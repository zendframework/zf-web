/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit._editor.html"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit._editor.html"]){_4._hasResource["dijit._editor.html"]=true;_4.provide("dijit._editor.html");_5._editor.escapeXml=function(_7,_8){_7=_7.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_8){_7=_7.replace(/'/gm,"&#39;");}return _7;};_5._editor.getNodeHtml=function(_9){var _a;switch(_9.nodeType){case 1:var _b=_9.nodeName.toLowerCase();if(_b.charAt(0)=="/"){return "";}_a="<"+_b;var _c=[];var _d;if(_4.isIE&&_9.outerHTML){var s=_9.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var _e=/(\b\w+)\s?=/g;var m,_f;while((m=_e.exec(s))){_f=m[1];if(_f.substr(0,3)!="_dj"){if(_f=="src"||_f=="href"){if(_9.getAttribute("_djrealurl")){_c.push([_f,_9.getAttribute("_djrealurl")]);continue;}}var val,_10;switch(_f){case "style":val=_9.style.cssText.toLowerCase();break;case "class":val=_9.className;break;case "width":if(_b==="img"){_10=/width=(\S+)/i.exec(s);if(_10){val=_10[1];}break;}case "height":if(_b==="img"){_10=/height=(\S+)/i.exec(s);if(_10){val=_10[1];}break;}default:val=_9.getAttribute(_f);}if(val!=null){_c.push([_f,val.toString()]);}}}}else{var i=0;while((_d=_9.attributes[i++])){var n=_d.name;if(n.substr(0,3)!="_dj"){var v=_d.value;if(n=="src"||n=="href"){if(_9.getAttribute("_djrealurl")){v=_9.getAttribute("_djrealurl");}}_c.push([n,v]);}}}_c.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((_d=_c[j++])){_a+=" "+_d[0]+"=\""+(_4.isString(_d[1])?_5._editor.escapeXml(_d[1],true):_d[1])+"\"";}if(_b==="script"){_a+=">"+_9.innerHTML+"</"+_b+">";}else{if(_9.childNodes.length){_a+=">"+_5._editor.getChildrenHtml(_9)+"</"+_b+">";}else{switch(_b){case "br":case "hr":case "img":case "input":case "base":case "meta":case "area":case "basefont":_a+=" />";break;default:_a+="></"+_b+">";}}}break;case 4:case 3:_a=_5._editor.escapeXml(_9.nodeValue,true);break;case 8:_a="<!--"+_5._editor.escapeXml(_9.nodeValue,true)+"-->";break;default:_a="<!-- Element not recognized - Type: "+_9.nodeType+" Name: "+_9.nodeName+"-->";}return _a;};_5._editor.getChildrenHtml=function(dom){var out="";if(!dom){return out;}var _11=dom["childNodes"]||dom;var _12=!_4.isIE||_11!==dom;var _13,i=0;while((_13=_11[i++])){if(!_12||_13.parentNode==dom){out+=_5._editor.getNodeHtml(_13);}}return out;};}}};});