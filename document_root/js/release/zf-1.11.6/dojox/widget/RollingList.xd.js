/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.widget.RollingList"],["require","dijit.layout.ContentPane"],["require","dijit._Templated"],["require","dijit._Contained"],["require","dijit.layout._LayoutWidget"],["require","dijit.Menu"],["require","dojox.html.metrics"],["require","dijit.form.Button"],["require","dojo.i18n"],["requireLocalization","dijit","common",null,"ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,ko,nb,nl,pl,pt,pt-pt,ru,sk,sl,sv,th,tr,zh,zh-tw","ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,ko,nb,nl,pl,pt,pt-pt,ru,sk,sl,sv,th,tr,zh,zh-tw"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.widget.RollingList"]){_4._hasResource["dojox.widget.RollingList"]=true;_4.provide("dojox.widget.RollingList");_4.experimental("dojox.widget.RollingList");_4.require("dijit.layout.ContentPane");_4.require("dijit._Templated");_4.require("dijit._Contained");_4.require("dijit.layout._LayoutWidget");_4.require("dijit.Menu");_4.require("dojox.html.metrics");_4.require("dijit.form.Button");_4.require("dojo.i18n");_4.declare("dojox.widget._RollingListPane",[_5.layout.ContentPane,_5._Templated,_5._Contained],{templateString:"<div class=\"dojoxRollingListPane\"><table><tbody><tr><td dojoAttachPoint=\"containerNode\"></td></tr></tbody></div>",parentWidget:null,parentPane:null,store:null,items:null,query:null,queryOptions:null,_focusByNode:true,minWidth:0,_setContentAndScroll:function(_7,_8){this._setContent(_7,_8);this.parentWidget.scrollIntoView(this);},_updateNodeWidth:function(n,_9){n.style.width="";var _a=_4.marginBox(n).w;if(_a<_9){_4.marginBox(n,{w:_9});}},_onMinWidthChange:function(v){this._updateNodeWidth(this.domNode,v);},_setMinWidthAttr:function(v){if(v!==this.minWidth){this.minWidth=v;this._onMinWidthChange(v);}},startup:function(){if(this._started){return;}if(this.store&&this.store.getFeatures()["dojo.data.api.Notification"]){window.setTimeout(_4.hitch(this,function(){this.connect(this.store,"onSet","_onSetItem");this.connect(this.store,"onNew","_onNewItem");this.connect(this.store,"onDelete","_onDeleteItem");}),1);}this.connect(this.focusNode||this.domNode,"onkeypress","_focusKey");this.parentWidget._updateClass(this.domNode,"Pane");this.inherited(arguments);this._onMinWidthChange(this.minWidth);},_focusKey:function(e){if(e.charOrCode==_4.keys.BACKSPACE){_4.stopEvent(e);return;}else{if(e.charOrCode==_4.keys.LEFT_ARROW&&this.parentPane){this.parentPane.focus();this.parentWidget.scrollIntoView(this.parentPane);}else{if(e.charOrCode==_4.keys.ENTER){this.parentWidget._onExecute();}}}},focus:function(_b){if(this.parentWidget._focusedPane!=this){this.parentWidget._focusedPane=this;this.parentWidget.scrollIntoView(this);if(this._focusByNode&&(!this.parentWidget._savedFocus||_b)){try{(this.focusNode||this.domNode).focus();}catch(e){}}}},_onShow:function(){if((this.store||this.items)&&((this.refreshOnShow&&this.domNode)||(!this.isLoaded&&this.domNode))){this.refresh();}},_load:function(){this.isLoaded=false;if(this.items){this._setContentAndScroll(this.onLoadStart(),true);window.setTimeout(_4.hitch(this,"_doQuery"),1);}else{this._doQuery();}},_doLoadItems:function(_c,_d){var _e=0,_f=this.store;_4.forEach(_c,function(_10){if(!_f.isItemLoaded(_10)){_e++;}});if(_e===0){_d();}else{var _11=function(_12){_e--;if((_e)===0){_d();}};_4.forEach(_c,function(_13){if(!_f.isItemLoaded(_13)){_f.loadItem({item:_13,onItem:_11});}});}},_doQuery:function(){if(!this.domNode){return;}var _14=this.parentWidget.preloadItems;_14=(_14===true||(this.items&&this.items.length<=Number(_14)));if(this.items&&_14){this._doLoadItems(this.items,_4.hitch(this,"onItems"));}else{if(this.items){this.onItems();}else{this._setContentAndScroll(this.onFetchStart(),true);this.store.fetch({query:this.query,onComplete:function(_15){this.items=_15;this.onItems();},onError:function(e){this._onError("Fetch",e);},scope:this});}}},_hasItem:function(_16){var _17=this.items||[];for(var i=0,_18;(_18=_17[i]);i++){if(this.parentWidget._itemsMatch(_18,_16)){return true;}}return false;},_onSetItem:function(_19,_1a,_1b,_1c){if(this._hasItem(_19)){this.refresh();}},_onNewItem:function(_1d,_1e){var sel;if((!_1e&&!this.parentPane)||(_1e&&this.parentPane&&this.parentPane._hasItem(_1e.item)&&(sel=this.parentPane._getSelected())&&this.parentWidget._itemsMatch(sel.item,_1e.item))){this.items.push(_1d);this.refresh();}else{if(_1e&&this.parentPane&&this._hasItem(_1e.item)){this.refresh();}}},_onDeleteItem:function(_1f){if(this._hasItem(_1f)){this.items=_4.filter(this.items,function(i){return (i!=_1f);});this.refresh();}},onFetchStart:function(){return this.loadingMessage;},onFetchError:function(_20){return this.errorMessage;},onLoadStart:function(){return this.loadingMessage;},onLoadError:function(_21){return this.errorMessage;},onItems:function(){if(!this.onLoadDeferred){this.cancel();this.onLoadDeferred=new _4.Deferred(_4.hitch(this,"cancel"));}this._onLoadHandler();}});_4.declare("dojox.widget._RollingListGroupPane",[_6.widget._RollingListPane],{templateString:"<div><div dojoAttachPoint=\"containerNode\"></div>"+"<div dojoAttachPoint=\"menuContainer\">"+"<div dojoAttachPoint=\"menuNode\"></div>"+"</div></div>",_menu:null,_setContent:function(_22){if(!this._menu){this.inherited(arguments);}},_onMinWidthChange:function(v){if(!this._menu){return;}var _23=_4.marginBox(this.domNode).w;var _24=_4.marginBox(this._menu.domNode).w;this._updateNodeWidth(this._menu.domNode,v-(_23-_24));},onItems:function(){var _25,_26=false;if(this._menu){_25=this._getSelected();this._menu.destroyRecursive();}this._menu=this._getMenu();var _27,_28;if(this.items.length){_4.forEach(this.items,function(_29){_27=this.parentWidget._getMenuItemForItem(_29,this);if(_27){if(_25&&this.parentWidget._itemsMatch(_27.item,_25.item)){_28=_27;}this._menu.addChild(_27);}},this);}else{_27=this.parentWidget._getMenuItemForItem(null,this);if(_27){this._menu.addChild(_27);}}if(_28){this._setSelected(_28);if((_25&&!_25.children&&_28.children)||(_25&&_25.children&&!_28.children)){var _2a=this.parentWidget._getPaneForItem(_28.item,this,_28.children);if(_2a){this.parentWidget.addChild(_2a,this.getIndexInParent()+1);}else{this.parentWidget._removeAfter(this);this.parentWidget._onItemClick(null,this,_28.item,_28.children);}}}else{if(_25){this.parentWidget._removeAfter(this);}}this.containerNode.innerHTML="";this.containerNode.appendChild(this._menu.domNode);this.parentWidget.scrollIntoView(this);this._checkScrollConnection(true);this.inherited(arguments);this._onMinWidthChange(this.minWidth);},_checkScrollConnection:function(_2b){var _2c=this.store;if(this._scrollConn){this.disconnect(this._scrollConn);}delete this._scrollConn;if(!_4.every(this.items,function(i){return _2c.isItemLoaded(i);})){if(_2b){this._loadVisibleItems();}this._scrollConn=this.connect(this.domNode,"onscroll","_onScrollPane");}},startup:function(){this.inherited(arguments);this.parentWidget._updateClass(this.domNode,"GroupPane");},focus:function(_2d){if(this._menu){if(this._pendingFocus){this.disconnect(this._pendingFocus);}delete this._pendingFocus;var _2e=this._menu.focusedChild;if(!_2e){var _2f=_4.query(".dojoxRollingListItemSelected",this.domNode)[0];if(_2f){_2e=_5.byNode(_2f);}}if(!_2e){_2e=this._menu.getChildren()[0]||this._menu;}this._focusByNode=false;if(_2e.focusNode){if(!this.parentWidget._savedFocus||_2d){try{_2e.focusNode.focus();}catch(e){}}window.setTimeout(function(){try{_5.scrollIntoView(_2e.focusNode);}catch(e){}},1);}else{if(_2e.focus){if(!this.parentWidget._savedFocus||_2d){_2e.focus();}}else{this._focusByNode=true;}}this.inherited(arguments);}else{if(!this._pendingFocus){this._pendingFocus=this.connect(this,"onItems","focus");}}},_getMenu:function(){var _30=this;var _31=new _5.Menu({parentMenu:this.parentPane?this.parentPane._menu:null,onCancel:function(_32){if(_30.parentPane){_30.parentPane.focus(true);}},_moveToPopup:function(evt){if(this.focusedChild&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}}},this.menuNode);this.connect(_31,"onItemClick",function(_33,evt){if(_33.disabled){return;}evt.alreadySelected=_4.hasClass(_33.domNode,"dojoxRollingListItemSelected");if(evt.alreadySelected&&((evt.type=="keypress"&&evt.charOrCode!=_4.keys.ENTER)||(evt.type=="internal"))){var p=this.parentWidget.getChildren()[this.getIndexInParent()+1];if(p){p.focus(true);this.parentWidget.scrollIntoView(p);}}else{this._setSelected(_33,_31);this.parentWidget._onItemClick(evt,this,_33.item,_33.children);if(evt.type=="keypress"&&evt.charOrCode==_4.keys.ENTER){this.parentWidget._onExecute();}}});if(!_31._started){_31.startup();}return _31;},_onScrollPane:function(){if(this._visibleLoadPending){window.clearTimeout(this._visibleLoadPending);}this._visibleLoadPending=window.setTimeout(_4.hitch(this,"_loadVisibleItems"),500);},_loadVisibleItems:function(){delete this._visibleLoadPending;var _34=this._menu;if(!_34){return;}var _35=_34.getChildren();if(!_35||!_35.length){return;}var _36=function(n,m,pb){var s=_4.getComputedStyle(n);var r=0;if(m){r+=_4._getMarginExtents(n,s).t;}if(pb){r+=_4._getPadBorderExtents(n,s).t;}return r;};var _37=_36(this.domNode,false,true)+_36(this.containerNode,true,true)+_36(_34.domNode,true,true)+_36(_35[0].domNode,true,false);var h=_4.contentBox(this.domNode).h;var _38=this.domNode.scrollTop-_37-(h/2);var _39=_38+(3*h/2);var _3a=_4.filter(_35,function(c){var cnt=c.domNode.offsetTop;var s=c.store;var i=c.item;return (cnt>=_38&&cnt<=_39&&!s.isItemLoaded(i));});var _3b=_4.map(_3a,function(c){return c.item;});var _3c=_4.hitch(this,function(){var _3d=this._getSelected();var _3e;_4.forEach(_3b,function(_3f,idx){var _40=this.parentWidget._getMenuItemForItem(_3f,this);var _41=_3a[idx];var _42=_41.getIndexInParent();_34.removeChild(_41);if(_40){if(_3d&&this.parentWidget._itemsMatch(_40.item,_3d.item)){_3e=_40;}_34.addChild(_40,_42);if(_34.focusedChild==_41){_34.focusChild(_40);}}_41.destroy();},this);this._checkScrollConnection(false);});this._doLoadItems(_3b,_3c);},_getSelected:function(_43){if(!_43){_43=this._menu;}if(_43){var _44=this._menu.getChildren();for(var i=0,_45;(_45=_44[i]);i++){if(_4.hasClass(_45.domNode,"dojoxRollingListItemSelected")){return _45;}}}return null;},_setSelected:function(_46,_47){if(!_47){_47=this._menu;}if(_47){_4.forEach(_47.getChildren(),function(i){this.parentWidget._updateClass(i.domNode,"Item",{"Selected":(_46&&(i==_46&&!i.disabled))});},this);}}});_4.declare("dojox.widget.RollingList",[_5._Widget,_5._Templated,_5._Container],{templateString:_4.cache("dojox.widget","RollingList/RollingList.html","<div class=\"dojoxRollingList ${className}\"\n\t><div class=\"dojoxRollingListContainer\" dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onkeypress:_onKey\"\n\t></div\n\t><div class=\"dojoxRollingListButtons\" dojoAttachPoint=\"buttonsNode\"\n        ><button dojoType=\"dijit.form.Button\" dojoAttachPoint=\"okButton\"\n\t\t\t\tdojoAttachEvent=\"onClick:_onExecute\">${okButtonLabel}</button\n        ><button dojoType=\"dijit.form.Button\" dojoAttachPoint=\"cancelButton\"\n\t\t\t\tdojoAttachEvent=\"onClick:_onCancel\">${cancelButtonLabel}</button\n\t></div\n></div>\n"),widgetsInTemplate:true,className:"",store:null,query:null,queryOptions:null,childrenAttrs:["children"],parentAttr:"",value:null,executeOnDblClick:true,preloadItems:false,showButtons:false,okButtonLabel:"",cancelButtonLabel:"",minPaneWidth:0,postMixInProperties:function(){this.inherited(arguments);var loc=_4.i18n.getLocalization("dijit","common");this.okButtonLabel=this.okButtonLabel||loc.buttonOk;this.cancelButtonLabel=this.cancelButtonLabel||loc.buttonCancel;},_setShowButtonsAttr:function(_48){var _49=false;if((this.showButtons!=_48&&this._started)||(this.showButtons==_48&&!this.started)){_49=true;}_4.toggleClass(this.domNode,"dojoxRollingListButtonsHidden",!_48);this.showButtons=_48;if(_49){if(this._started){this.layout();}else{window.setTimeout(_4.hitch(this,"layout"),0);}}},_itemsMatch:function(_4a,_4b){if(!_4a&&!_4b){return true;}else{if(!_4a||!_4b){return false;}}return (_4a==_4b||(this._isIdentity&&this.store.getIdentity(_4a)==this.store.getIdentity(_4b)));},_removeAfter:function(idx){if(typeof idx!="number"){idx=this.getIndexOfChild(idx);}if(idx>=0){_4.forEach(this.getChildren(),function(c,i){if(i>idx){this.removeChild(c);c.destroyRecursive();}},this);}var _4c=this.getChildren(),_4d=_4c[_4c.length-1];var _4e=null;while(_4d&&!_4e){var val=_4d._getSelected?_4d._getSelected():null;if(val){_4e=val.item;}_4d=_4d.parentPane;}if(!this._setInProgress){this._setValue(_4e);}},addChild:function(_4f,_50){if(_50>0){this._removeAfter(_50-1);}this.inherited(arguments);if(!_4f._started){_4f.startup();}_4f.attr("minWidth",this.minPaneWidth);this.layout();if(!this._savedFocus){_4f.focus();}},_setMinPaneWidthAttr:function(_51){if(_51!==this.minPaneWidth){this.minPaneWidth=_51;_4.forEach(this.getChildren(),function(c){c.attr("minWidth",_51);});}},_updateClass:function(_52,_53,_54){if(!this._declaredClasses){this._declaredClasses=("dojoxRollingList "+this.className).split(" ");}_4.forEach(this._declaredClasses,function(c){if(c){_4.addClass(_52,c+_53);for(var k in _54||{}){_4.toggleClass(_52,c+_53+k,_54[k]);}_4.toggleClass(_52,c+_53+"FocusSelected",(_4.hasClass(_52,c+_53+"Focus")&&_4.hasClass(_52,c+_53+"Selected")));_4.toggleClass(_52,c+_53+"HoverSelected",(_4.hasClass(_52,c+_53+"Hover")&&_4.hasClass(_52,c+_53+"Selected")));}});},scrollIntoView:function(_55){if(this._scrollingTimeout){window.clearTimeout(this._scrollingTimeout);}delete this._scrollingTimeout;this._scrollingTimeout=window.setTimeout(_4.hitch(this,function(){if(_55.domNode){_5.scrollIntoView(_55.domNode);}delete this._scrollingTimeout;return;}),1);},resize:function(_56){_5.layout._LayoutWidget.prototype.resize.call(this,_56);},layout:function(){var _57=this.getChildren();if(this._contentBox){var bn=this.buttonsNode;var _58=this._contentBox.h-_4.marginBox(bn).h-_6.html.metrics.getScrollbar().h;_4.forEach(_57,function(c){_4.marginBox(c.domNode,{h:_58});});}if(this._focusedPane){var foc=this._focusedPane;delete this._focusedPane;if(!this._savedFocus){foc.focus();}}else{if(_57&&_57.length){if(!this._savedFocus){_57[0].focus();}}}},_onChange:function(_59){this.onChange(_59);},_setValue:function(_5a){delete this._setInProgress;if(!this._itemsMatch(this.value,_5a)){this.value=_5a;this._onChange(_5a);}},_setValueAttr:function(_5b){if(this._itemsMatch(this.value,_5b)&&!_5b){return;}if(this._setInProgress&&this._setInProgress===_5b){return;}this._setInProgress=_5b;if(!_5b||!this.store.isItem(_5b)){var _5c=this.getChildren()[0];_5c._setSelected(null);this._onItemClick(null,_5c,null,null);return;}var _5d=_4.hitch(this,function(_5e,_5f){var _60=this.store,id;if(this.parentAttr&&_60.getFeatures()["dojo.data.api.Identity"]&&((id=this.store.getValue(_5e,this.parentAttr))||id==="")){var cb=function(i){if(_60.getIdentity(i)==_60.getIdentity(_5e)){_5f(null);}else{_5f([i]);}};if(id===""){_5f(null);}else{if(typeof id=="string"){_60.fetchItemByIdentity({identity:id,onItem:cb});}else{if(_60.isItem(id)){cb(id);}}}}else{var _61=this.childrenAttrs.length;var _62=[];_4.forEach(this.childrenAttrs,function(_63){var q={};q[_63]=_5e;_60.fetch({query:q,scope:this,onComplete:function(_64){if(this._setInProgress!==_5b){return;}_62=_62.concat(_64);_61--;if(_61===0){_5f(_62);}}});},this);}});var _65=_4.hitch(this,function(_66,idx){var set=_66[idx];var _67=this.getChildren()[idx];var _68;if(set&&_67){var fx=_4.hitch(this,function(){if(_68){this.disconnect(_68);}delete _68;if(this._setInProgress!==_5b){return;}var _69=_4.filter(_67._menu.getChildren(),function(i){return this._itemsMatch(i.item,set);},this)[0];if(_69){idx++;_67._menu.onItemClick(_69,{type:"internal",stopPropagation:function(){},preventDefault:function(){}});if(_66[idx]){_65(_66,idx);}else{this._setValue(set);this.onItemClick(set,_67,this.getChildItems(set));}}});if(!_67.isLoaded){_68=this.connect(_67,"onLoad",fx);}else{fx();}}else{if(idx===0){this.attr("value",null);}}});var _6a=[];var _6b=_4.hitch(this,function(_6c){if(_6c&&_6c.length){_6a.push(_6c[0]);_5d(_6c[0],_6b);}else{if(!_6c){_6a.pop();}_6a.reverse();_65(_6a,0);}});var ns=this.domNode.style;if(ns.display=="none"||ns.visibility=="hidden"){this._setValue(_5b);}else{if(!this._itemsMatch(_5b,this._visibleItem)){_6b([_5b]);}}},_onItemClick:function(evt,_6d,_6e,_6f){if(evt){var _70=this._getPaneForItem(_6e,_6d,_6f);var _71=(evt.type=="click"&&evt.alreadySelected);if(_71&&_70){this._removeAfter(_6d.getIndexInParent()+1);var _72=_6d.getNextSibling();if(_72&&_72._setSelected){_72._setSelected(null);}this.scrollIntoView(_72);}else{if(_70){this.addChild(_70,_6d.getIndexInParent()+1);if(this._savedFocus){_70.focus(true);}}else{this._removeAfter(_6d);this.scrollIntoView(_6d);}}}else{if(_6d){this._removeAfter(_6d);this.scrollIntoView(_6d);}}if(!evt||evt.type!="internal"){this._setValue(_6e);this.onItemClick(_6e,_6d,_6f);}this._visibleItem=_6e;},_getPaneForItem:function(_73,_74,_75){var ret=this.getPaneForItem(_73,_74,_75);ret.store=this.store;ret.parentWidget=this;ret.parentPane=_74||null;if(!_73){ret.query=this.query;ret.queryOptions=this.queryOptions;}else{if(_75){ret.items=_75;}else{ret.items=[_73];}}return ret;},_getMenuItemForItem:function(_76,_77){var _78=this.store;if(!_76||!_78||!_78.isItem(_76)){var i=new _5.MenuItem({label:"---",disabled:true,iconClass:"dojoxEmpty",focus:function(){}});this._updateClass(i.domNode,"Item");return i;}else{var _79=_78.isItemLoaded(_76);var _7a=_79?this.getChildItems(_76):undefined;var _7b;if(_7a){_7b=this.getMenuItemForItem(_76,_77,_7a);_7b.children=_7a;this._updateClass(_7b.domNode,"Item",{"Expanding":true});if(!_7b._started){var c=_7b.connect(_7b,"startup",function(){this.disconnect(c);_4.style(this.arrowWrapper,"display","");});}else{_4.style(_7b.arrowWrapper,"display","");}}else{_7b=this.getMenuItemForItem(_76,_77,null);if(_79){this._updateClass(_7b.domNode,"Item",{"Single":true});}else{this._updateClass(_7b.domNode,"Item",{"Unloaded":true});_7b.attr("disabled",true);}}_7b.store=this.store;_7b.item=_76;if(!_7b.label){_7b.attr("label",this.store.getLabel(_76).replace(/</,"&lt;"));}if(_7b.focusNode){var _7c=this;_7b.focus=function(){if(!this.disabled){try{this.focusNode.focus();}catch(e){}}};_7b.connect(_7b.focusNode,"onmouseenter",function(){if(!this.disabled){_7c._updateClass(this.domNode,"Item",{"Hover":true});}});_7b.connect(_7b.focusNode,"onmouseleave",function(){if(!this.disabled){_7c._updateClass(this.domNode,"Item",{"Hover":false});}});_7b.connect(_7b.focusNode,"blur",function(){_7c._updateClass(this.domNode,"Item",{"Focus":false,"Hover":false});});_7b.connect(_7b.focusNode,"focus",function(){_7c._updateClass(this.domNode,"Item",{"Focus":true});_7c._focusedPane=_77;});if(this.executeOnDblClick){_7b.connect(_7b.focusNode,"ondblclick",function(){_7c._onExecute();});}}return _7b;}},_setStore:function(_7d){if(_7d===this.store&&this._started){return;}this.store=_7d;this._isIdentity=_7d.getFeatures()["dojo.data.api.Identity"];var _7e=this._getPaneForItem();this.addChild(_7e,0);},_onKey:function(e){if(e.charOrCode==_4.keys.BACKSPACE){_4.stopEvent(e);return;}else{if(e.charOrCode==_4.keys.ESCAPE&&this._savedFocus){try{_5.focus(this._savedFocus);}catch(e){}_4.stopEvent(e);return;}else{if(e.charOrCode==_4.keys.LEFT_ARROW||e.charOrCode==_4.keys.RIGHT_ARROW){_4.stopEvent(e);return;}}}},_resetValue:function(){this.attr("value",this._lastExecutedValue);},_onCancel:function(){this._resetValue();this.onCancel();},_onExecute:function(){this._lastExecutedValue=this.attr("value");this.onExecute();},focus:function(){var _7f=this._savedFocus;this._savedFocus=_5.getFocus(this);if(!this._savedFocus.node){delete this._savedFocus;}if(!this._focusedPane){var _80=this.getChildren()[0];if(_80&&!_7f){_80.focus(true);}}else{this._savedFocus=_5.getFocus(this);var foc=this._focusedPane;delete this._focusedPane;if(!_7f){foc.focus(true);}}},handleKey:function(e){if(e.charOrCode==_4.keys.DOWN_ARROW){delete this._savedFocus;this.focus();return false;}else{if(e.charOrCode==_4.keys.ESCAPE){this._onCancel();return false;}}return true;},_updateChildClasses:function(){var _81=this.getChildren();var _82=_81.length;_4.forEach(_81,function(c,idx){_4.toggleClass(c.domNode,"dojoxRollingListPaneCurrentChild",(idx==(_82-1)));_4.toggleClass(c.domNode,"dojoxRollingListPaneCurrentSelected",(idx==(_82-2)));});},startup:function(){if(this._started){return;}if(!this.getParent||!this.getParent()){this.resize();this.connect(_4.global,"onresize","resize");}this.connect(this,"addChild","_updateChildClasses");this.connect(this,"removeChild","_updateChildClasses");this._setStore(this.store);this.attr("showButtons",this.showButtons);this.inherited(arguments);this._lastExecutedValue=this.attr("value");},getChildItems:function(_83){var _84,_85=this.store;_4.forEach(this.childrenAttrs,function(_86){var _87=_85.getValues(_83,_86);if(_87&&_87.length){_84=(_84||[]).concat(_87);}});return _84;},getMenuItemForItem:function(_88,_89,_8a){return new _5.MenuItem({});},getPaneForItem:function(_8b,_8c,_8d){if(!_8b||_8d){return new _6.widget._RollingListGroupPane({});}else{return null;}},onItemClick:function(_8e,_8f,_90){},onExecute:function(){},onCancel:function(){},onChange:function(_91){}});}}};});