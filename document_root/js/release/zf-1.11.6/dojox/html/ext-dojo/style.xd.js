/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.html.ext-dojo.style"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.html.ext-dojo.style"]){_4._hasResource["dojox.html.ext-dojo.style"]=true;_4.provide("dojox.html.ext-dojo.style");_4.experimental("dojox.html.ext-dojo.style");_4.mixin(_6.html["ext-dojo"].style,{supportsTransform:true,_toPx:function(_7){var ds=_4.style,_8=this._conversion;if(typeof _7==="number"){return _7+"px";}else{if(_7.toLowerCase().indexOf("px")!=-1){return _7;}}!_8.parentNode&&_4.place(_8,_4.body());ds(_8,"margin",_7);return ds(_8,"margin");},init:function(){var ds=_4.style,_9=_4.doc.documentElement.style,_a=_6.html["ext-dojo"].style;_4.style=function(_b,_c,_d){var n=_4.byId(_b),tr=(_c=="transform"),to=(_c=="transformOrigin"),_e=arguments.length;if(_e==3){if(tr){_a.setTransform(n,_d,true);}else{if(to){_a.setTransformOrigin(n,_d);}else{ds(_b,_c,_d);}}}if(_e==2){if(tr){return _a.getTransform(_b);}else{if(to){return _a.getTransformOrigin(_b);}else{return ds(_b,_c);}}}};for(var i=0,_f=["WebkitT","MozT","t"];i<_f.length;i++){if(typeof _9[_f[i]+"ransform"]==="string"){this.tPropertyName=_f[i]+"ransform";}if(typeof _9[_f[i]+"ransformOrigin"]==="string"){this.toPropertyName=_f[i]+"ransformOrigin";}}if(this.tPropertyName){this.setTransform=function(_10,_11){return _4.style(_10,this.tPropertyName,_11);};this.getTransform=function(_12){return _4.style(_12,this.tPropertyName);};}else{if(_4.isIE){this.setTransform=this._setTransformFilter;this.getTransform=this._getTransformFilter;}}if(this.toPropertyName){this.setTransformOrigin=function(_13,_14){return _4.style(_13,this.toPropertyName,_14);};this.getTransformOrigin=function(_15){return _4.style(_15,this.toPropertyName);};}else{if(_4.isIE){this.setTransformOrigin=this._setTransformOriginFilter;this.getTransformOrigin=this._getTransformOriginFilter;}else{this.supportsTransform=false;}}this._conversion=_4.create("div",{style:{position:"absolute",top:"-100px",left:"-100px",fontSize:0,width:"0",backgroundPosition:"50% 50%"}});},_notSupported:function(){console.warn("Sorry, this browser doesn't support transform and transform-origin");},_setTransformOriginFilter:function(_16,_17){var to=_4.trim(_17).replace(" top"," 0").replace("left ","0 ").replace(" center","50%").replace("center ","50% ").replace(" bottom"," 100%").replace("right ","100% ").replace(/\s+/," "),_18=to.split(" "),n=_4.byId(_16),t=this.getTransform(n),_19=true;for(var i=0;i<_18.length;i++){_19=_19&&/^0|(\d+(%|px|pt|in|pc|mm|cm))$/.test(_18[i]);if(_18[i].indexOf("%")==-1){_18[i]=this._toPx(_18[i]);}}if(!_19){return;}if(!_18.length||_18.length>2){return;}_4.attr(n,"dojo-transform-origin",_18.join(" "));t&&this.setTransform(_16,t);},_getTransformOriginFilter:function(_1a){return _4.attr(_1a,"dojo-transform-origin")||"50% 50%";},_setTransformFilter:function(_1b,_1c){var t=_1c.replace(/\s/g,""),n=_4.byId(_1b),_1d=t.split(")"),_1e=1,_1f=1,_20="DXImageTransform.Microsoft.Matrix",_21=_4.hasAttr,_22=_4.attr,PI=Math.PI,cos=Math.cos,sin=Math.sin,tan=Math.tan,max=Math.max,min=Math.min,abs=Math.abs,_23=PI/180,_24=PI/200,ct="",_25="",_26=[],x0=0,y0=0,dx=0,dy=0,xc=0,yc=0,a=0,m11=1,m12=0,m21=0,m22=1,tx=0,ty=0,_27=[m11,m12,m21,m22,tx,ty],_28=false,ds=_4.style,_29=ds(n,"position")=="absolute"?"absolute":"relative",w=ds(n,"width")+ds(n,"paddingLeft")+ds(n,"paddingRight"),h=ds(n,"height")+ds(n,"paddingTop")+ds(n,"paddingBottom"),_2a=this._toPx;!_21(n,"dojo-transform-origin")&&this.setTransformOrigin(n,"50% 50%");for(var i=0,l=_1d.length;i<l;i++){_26=_1d[i].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/);_25=_26?_26[0]:"";switch(_25){case "matrix":ct=_1d[i].replace(/matrix\(|\)/g,"");var _2b=ct.split(",");m11=_27[0]*_2b[0]+_27[1]*_2b[2];m12=_27[0]*_2b[1]+_27[1]*_2b[3];m21=_27[2]*_2b[0]+_27[3]*_2b[2];m22=_27[2]*_2b[1]+_27[3]*_2b[3];tx=_27[4]+_2b[4];ty=_27[5]+_2b[5];break;case "rotate":ct=_1d[i].replace(/rotate\(|\)/g,"");_1e=ct.indexOf("deg")!=-1?_23:ct.indexOf("grad")!=-1?_24:1;a=parseFloat(ct)*_1e;var s=sin(a),c=cos(a);m11=_27[0]*c+_27[1]*s;m12=-_27[0]*s+_27[1]*c;m21=_27[2]*c+_27[3]*s;m22=-_27[2]*s+_27[3]*c;break;case "skewX":ct=_1d[i].replace(/skewX\(|\)/g,"");_1e=ct.indexOf("deg")!=-1?_23:ct.indexOf("grad")!=-1?_24:1;var ta=tan(parseFloat(ct)*_1e);m11=_27[0];m12=_27[0]*ta+_27[1];m21=_27[2];m22=_27[2]*ta+_27[3];break;case "skewY":ct=_1d[i].replace(/skewY\(|\)/g,"");_1e=ct.indexOf("deg")!=-1?_23:ct.indexOf("grad")!=-1?_24:1;ta=tan(parseFloat(ct)*_1e);m11=_27[0]+_27[1]*ta;m12=_27[1];m21=_27[2]+_27[3]*ta;m22=_27[3];break;case "skew":ct=_1d[i].replace(/skew\(|\)/g,"");var _2c=ct.split(",");_2c[1]=_2c[1]||"0";_1e=_2c[0].indexOf("deg")!=-1?_23:_2c[0].indexOf("grad")!=-1?_24:1;_1f=_2c[1].indexOf("deg")!=-1?_23:_2c[1].indexOf("grad")!=-1?_24:1;var a0=tan(parseFloat(_2c[0])*_1e),a1=tan(parseFloat(_2c[1])*_1f);m11=_27[0]+_27[1]*a1;m12=_27[0]*a0+_27[1];m21=_27[2]+_27[3]*a1;m22=_27[2]*a0+_27[3];break;case "scaleX":ct=parseFloat(_1d[i].replace(/scaleX\(|\)/g,""))||1;m11=_27[0]*ct;m12=_27[1];m21=_27[2]*ct;m22=_27[3];break;case "scaleY":ct=parseFloat(_1d[i].replace(/scaleY\(|\)/g,""))||1;m11=_27[0];m12=_27[1]*ct;m21=_27[2];m22=_27[3]*ct;break;case "scale":ct=_1d[i].replace(/scale\(|\)/g,"");var _2d=ct.split(",");_2d[1]=_2d[1]||_2d[0];m11=_27[0]*_2d[0];m12=_27[1]*_2d[1];m21=_27[2]*_2d[0];m22=_27[3]*_2d[1];break;case "translateX":ct=parseInt(_1d[i].replace(/translateX\(|\)/g,""))||1;m11=_27[0];m12=_27[1];m21=_27[2];m22=_27[3];tx=_2a(ct);tx&&_22(n,"dojo-transform-matrix-tx",tx);break;case "translateY":ct=parseInt(_1d[i].replace(/translateY\(|\)/g,""))||1;m11=_27[0];m12=_27[1];m21=_27[2];m22=_27[3];ty=_2a(ct);ty&&_22(n,"dojo-transform-matrix-ty",ty);break;case "translate":ct=_1d[i].replace(/translate\(|\)/g,"");m11=_27[0];m12=_27[1];m21=_27[2];m22=_27[3];var _2e=ct.split(",");_2e[0]=parseInt(_2a(_2e[0]))||0;_2e[1]=parseInt(_2a(_2e[1]))||0;tx=_2e[0];ty=_2e[1];tx&&_22(n,"dojo-transform-matrix-tx",tx);ty&&_22(n,"dojo-transform-matrix-ty",ty);break;}_27=[m11,m12,m21,m22,tx,ty];}var Bx=min(w*m11+h*m12,min(min(w*m11,h*m12),0)),By=min(w*m21+h*m22,min(min(w*m21,h*m22),0));dx=-Bx;dy=-By;if(_4.isIE<8){n.style.zoom="1";if(_29!="absolute"){var _2f=ds(_1b.parentNode,"width"),tw=abs(w*m11),th=abs(h*m12),_30=max(tw+th,max(max(th,tw),0));dx-=(_30-w)/2-(_2f>_30?0:(_30-_2f)/2);}}else{if(_4.isIE==8){ds(n,"zIndex")=="auto"&&(n.style.zIndex="0");}}try{_28=!!n.filters.item(_20);}catch(e){_28=false;}if(_28){n.filters.item(_20).M11=m11;n.filters.item(_20).M12=m12;n.filters.item(_20).M21=m21;n.filters.item(_20).M22=m22;n.filters.item(_20).filterType="bilinear";n.filters.item(_20).Dx=0;n.filters.item(_20).Dy=0;n.filters.item(_20).sizingMethod="auto expand";}else{n.style.filter+=" progid:"+_20+"(M11="+m11+",M12="+m12+",M21="+m21+",M22="+m22+",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')";}tx=parseInt(_22(n,"dojo-transform-matrix-tx")||"0");ty=parseInt(_22(n,"dojo-transform-matrix-ty")||"0");var _31=_22(n,"dojo-transform-origin").split(" ");for(i=0;i<2;i++){_31[i]=_31[i]||"50%";}xc=(_31[0].toString().indexOf("%")!=-1)?w*parseInt(_31[0])*0.01:_31[0];yc=(_31[1].toString().indexOf("%")!=-1)?h*parseInt(_31[1])*0.01:_31[1];if(_21(n,"dojo-startX")){x0=parseInt(_22(n,"dojo-startX"));}else{x0=parseInt(ds(n,"left"));_22(n,"dojo-startX",_29=="absolute"?x0:"0");}if(_21(n,"dojo-startY")){y0=parseInt(_22(n,"dojo-startY"));}else{y0=parseInt(ds(n,"top"));_22(n,"dojo-startY",_29=="absolute"?y0:"0");}ds(n,{position:_29,left:x0-parseInt(dx)+parseInt(xc)-(parseInt(xc)*m11+parseInt(yc)*m12)+tx+"px",top:y0-parseInt(dy)+parseInt(yc)-(parseInt(xc)*m21+parseInt(yc)*m22)+ty+"px"});},_getTransformFilter:function(_32){try{var n=_4.byId(_32),_33=n.filters.item(0);return "matrix("+_33.M11+", "+_33.M12+", "+_33.M21+", "+_33.M22+", "+(_4.attr(_32,"dojo-transform-tx")||"0")+", "+(_4.attr(_32,"dojo-transform-ty")||"0")+")";}catch(e){return "matrix(1, 0, 0, 1, 0, 0)";}},setTransform:function(){this._notSupported();},setTransformOrigin:function(){this._notSupported();}});_6.html["ext-dojo"].style.init();}}};});