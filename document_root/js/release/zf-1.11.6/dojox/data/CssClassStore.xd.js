/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.data.CssClassStore"],["require","dojox.data.CssRuleStore"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.data.CssClassStore"]){_4._hasResource["dojox.data.CssClassStore"]=true;_4.provide("dojox.data.CssClassStore");_4.require("dojox.data.CssRuleStore");_4.declare("dojox.data.CssClassStore",_6.data.CssRuleStore,{_labelAttribute:"class",_idAttribute:"class",_cName:"dojox.data.CssClassStore",getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},getAttributes:function(_7){this._assertIsItem(_7);return ["class","classSans"];},getValue:function(_8,_9,_a){var _b=this.getValues(_8,_9);if(_b&&_b.length>0){return _b[0];}return _a;},getValues:function(_c,_d){this._assertIsItem(_c);this._assertIsAttribute(_d);var _e=[];if(_d==="class"){_e=[_c.className];}else{if(_d==="classSans"){_e=[_c.className.replace(/\./g,"")];}}return _e;},_handleRule:function(_f,_10,_11){var obj={};var s=_f["selectorText"].split(" ");for(var j=0;j<s.length;j++){var tmp=s[j];var _12=tmp.indexOf(".");if(tmp&&tmp.length>0&&_12!==-1){var _13=tmp.indexOf(",")||tmp.indexOf("[");tmp=tmp.substring(_12,((_13!==-1&&_13>_12)?_13:tmp.length));obj[tmp]=true;}}for(var key in obj){if(!this._allItems[key]){var _14={};_14.className=key;_14[this._storeRef]=this;this._allItems[key]=_14;}}},_handleReturn:function(){var _15=[];var _16={};for(var i in this._allItems){_16[i]=this._allItems[i];}var _17;while(this._pending.length){_17=this._pending.pop();_17.request._items=_16;_15.push(_17);}while(_15.length){_17=_15.pop();if(_17.fetch){this._handleFetchReturn(_17.request);}else{this._handleFetchByIdentityReturn(_17.request);}}},_handleFetchByIdentityReturn:function(_18){var _19=_18._items;var _1a=_19[(_4.isWebKit?_18.identity.toLowerCase():_18.identity)];if(!this.isItem(_1a)){_1a=null;}if(_18.onItem){var _1b=_18.scope||_4.global;_18.onItem.call(_1b,_1a);}},getIdentity:function(_1c){this._assertIsItem(_1c);return this.getValue(_1c,this._idAttribute);},getIdentityAttributes:function(_1d){this._assertIsItem(_1d);return [this._idAttribute];},fetchItemByIdentity:function(_1e){_1e=_1e||{};if(!_1e.store){_1e.store=this;}if(this._pending&&this._pending.length>0){this._pending.push({request:_1e});}else{this._pending=[{request:_1e}];this._fetch(_1e);}return _1e;}});}}};});