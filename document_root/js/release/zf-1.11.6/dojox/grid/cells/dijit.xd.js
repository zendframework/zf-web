/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.grid.cells.dijit"],["require","dojox.grid.cells"],["require","dijit.form.DateTextBox"],["require","dijit.form.TimeTextBox"],["require","dijit.form.ComboBox"],["require","dojo.data.ItemFileReadStore"],["require","dijit.form.CheckBox"],["require","dijit.form.TextBox"],["require","dijit.form.NumberSpinner"],["require","dijit.form.NumberTextBox"],["require","dijit.form.CurrencyTextBox"],["require","dijit.form.HorizontalSlider"],["require","dijit.Editor"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.grid.cells.dijit"]){_4._hasResource["dojox.grid.cells.dijit"]=true;_4.provide("dojox.grid.cells.dijit");_4.require("dojox.grid.cells");_4.require("dijit.form.DateTextBox");_4.require("dijit.form.TimeTextBox");_4.require("dijit.form.ComboBox");_4.require("dojo.data.ItemFileReadStore");_4.require("dijit.form.CheckBox");_4.require("dijit.form.TextBox");_4.require("dijit.form.NumberSpinner");_4.require("dijit.form.NumberTextBox");_4.require("dijit.form.CurrencyTextBox");_4.require("dijit.form.HorizontalSlider");_4.require("dijit.Editor");(function(){var _7=_6.grid.cells;_4.declare("dojox.grid.cells._Widget",_7._Base,{widgetClass:_5.form.TextBox,constructor:function(_8){this.widget=null;if(typeof this.widgetClass=="string"){_4.deprecated("Passing a string to widgetClass is deprecated","pass the widget class object instead","2.0");this.widgetClass=_4.getObject(this.widgetClass);}},formatEditing:function(_9,_a){this.needFormatNode(_9,_a);return "<div></div>";},getValue:function(_b){return this.widget.attr("value");},setValue:function(_c,_d){if(this.widget&&this.widget.attr){if(this.widget.onLoadDeferred){var _e=this;this.widget.onLoadDeferred.addCallback(function(){_e.widget.attr("value",_d===null?"":_d);});}else{this.widget.attr("value",_d);}}else{this.inherited(arguments);}},getWidgetProps:function(_f){return _4.mixin({},this.widgetProps||{},{constraints:_4.mixin({},this.constraint)||{},value:_f});},createWidget:function(_10,_11,_12){return new this.widgetClass(this.getWidgetProps(_11),_10);},attachWidget:function(_13,_14,_15){_13.appendChild(this.widget.domNode);this.setValue(_15,_14);},formatNode:function(_16,_17,_18){if(!this.widgetClass){return _17;}if(!this.widget){this.widget=this.createWidget.apply(this,arguments);}else{this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.rowHeightChanged(_18);this.focus();return undefined;},sizeWidget:function(_19,_1a,_1b){var p=this.getNode(_1b),box=_4.contentBox(p);_4.marginBox(this.widget.domNode,{w:box.w});},focus:function(_1c,_1d){if(this.widget){setTimeout(_4.hitch(this.widget,function(){_6.grid.util.fire(this,"focus");}),0);}},_finish:function(_1e){this.inherited(arguments);_6.grid.util.removeNode(this.widget.domNode);}});_7._Widget.markupFactory=function(_1f,_20){_7._Base.markupFactory(_1f,_20);var d=_4;var _21=d.trim(d.attr(_1f,"widgetProps")||"");var _22=d.trim(d.attr(_1f,"constraint")||"");var _23=d.trim(d.attr(_1f,"widgetClass")||"");if(_21){_20.widgetProps=d.fromJson(_21);}if(_22){_20.constraint=d.fromJson(_22);}if(_23){_20.widgetClass=d.getObject(_23);}};_4.declare("dojox.grid.cells.ComboBox",_7._Widget,{widgetClass:_5.form.ComboBox,getWidgetProps:function(_24){var _25=[];_4.forEach(this.options,function(o){_25.push({name:o,value:o});});var _26=new _4.data.ItemFileReadStore({data:{identifier:"name",items:_25}});return _4.mixin({},this.widgetProps||{},{value:_24,store:_26});},getValue:function(){var e=this.widget;e.attr("displayedValue",e.attr("displayedValue"));return e.attr("value");}});_7.ComboBox.markupFactory=function(_27,_28){_7._Widget.markupFactory(_27,_28);var d=_4;var _29=d.trim(d.attr(_27,"options")||"");if(_29){var o=_29.split(",");if(o[0]!=_29){_28.options=o;}}};_4.declare("dojox.grid.cells.DateTextBox",_7._Widget,{widgetClass:_5.form.DateTextBox,setValue:function(_2a,_2b){if(this.widget){this.widget.attr("value",new Date(_2b));}else{this.inherited(arguments);}},getWidgetProps:function(_2c){return _4.mixin(this.inherited(arguments),{value:new Date(_2c)});}});_7.DateTextBox.markupFactory=function(_2d,_2e){_7._Widget.markupFactory(_2d,_2e);};_4.declare("dojox.grid.cells.CheckBox",_7._Widget,{widgetClass:_5.form.CheckBox,getValue:function(){return this.widget.checked;},setValue:function(_2f,_30){if(this.widget&&this.widget.attributeMap.checked){this.widget.attr("checked",_30);}else{this.inherited(arguments);}},sizeWidget:function(_31,_32,_33){return;}});_7.CheckBox.markupFactory=function(_34,_35){_7._Widget.markupFactory(_34,_35);};_4.declare("dojox.grid.cells.Editor",_7._Widget,{widgetClass:_5.Editor,getWidgetProps:function(_36){return _4.mixin({},this.widgetProps||{},{height:this.widgetHeight||"100px"});},createWidget:function(_37,_38,_39){var _3a=new this.widgetClass(this.getWidgetProps(_38),_37);_4.connect(_3a,"onLoad",_4.hitch(this,"populateEditor"));return _3a;},formatNode:function(_3b,_3c,_3d){this.content=_3c;this.inherited(arguments);if(_4.isMoz){var e=this.widget;e.open();if(this.widgetToolbar){_4.place(e.toolbar.domNode,e.editingArea,"before");}}},populateEditor:function(){this.widget.attr("value",this.content);this.widget.placeCursorAtEnd();}});_7.Editor.markupFactory=function(_3e,_3f){_7._Widget.markupFactory(_3e,_3f);var d=_4;var h=_4.trim(_4.attr(_3e,"widgetHeight")||"");if(h){if((h!="auto")&&(h.substr(-2)!="em")){h=parseInt(h,10)+"px";}_3f.widgetHeight=h;}};})();}}};});