/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.fx.ext-dojo.complex"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.fx.ext-dojo.complex"]){_4._hasResource["dojox.fx.ext-dojo.complex"]=true;_4.provide("dojox.fx.ext-dojo.complex");(function(){var da=_4.animateProperty;_4.animateProperty=function(_7){var d=_4;var _8=da(_7);_4.connect(_8,"beforeBegin",function(){_8.curve.getValue=function(r){var _9={};for(var p in this._properties){var _a=this._properties[p],_b=_a.start;if(_b instanceof d.Color){_9[p]=d.blendColors(_b,_a.end,r,_a.tempColor).toCss();}else{if(_b instanceof _6.fx._Complex){_9[p]=_b.getValue(r);}else{if(!d.isArray(_b)){_9[p]=((_a.end-_b)*r)+_b+(p!="opacity"?_a.units||"px":0);}}}}return _9;};var pm={};for(var p in this.properties){var o=this.properties[p];if(typeof (o.start)=="string"&&/\(/.test(o.start)){this.curve._properties[p].start=new _6.fx._Complex(o);}}});return _8;};})();_4.declare("dojox.fx._Complex",null,{PROP:/\([+-]?[\w|,|#|\.|\s]*\)/g,constructor:function(_c){var _d=_c.start.match(this.PROP);var _e=_c.end.match(this.PROP);var _f=_4.map(_d,this.getProps,this);var _10=_4.map(_e,this.getProps,this);this._properties={};this.strProp=_c.start;_4.forEach(_f,function(_11,i){_4.forEach(_11,function(p,j){this.strProp=this.strProp.replace(p,"PROP_"+i+""+j);this._properties["PROP_"+i+""+j]=this.makePropObject(p,_10[i][j]);},this);},this);},getValue:function(r){var str=this.strProp;for(var nm in this._properties){var v,o=this._properties[nm];if(o.units=="isColor"){v=_4.blendColors(o.beg,o.end,r).toCss(false);}else{v=((o.end-o.beg)*r)+o.beg;}str=str.replace(nm,v+o.units);}return str;},makePropObject:function(beg,end){var b=this.getNumAndUnits(beg);var e=this.getNumAndUnits(end);return {beg:b.num,end:e.num,units:b.units};},getProps:function(str){str=str.substring(1,str.length-1);var s;if(/,/.test(str)){str=str.replace(/\s/g,"");s=str.split(",");}else{str=str.replace(/\s{2,}/g," ");s=str.split(" ");}return s;},getNumAndUnits:function(_12){if(!_12){return {};}if(/#/.test(_12)){return {num:new _4.Color(_12),units:"isColor"};}var o={num:parseInt(/-*\d{1,}/.exec(_12).join(""))};o.units=/[a-z]{1,}/.exec(_12);o.units=o.units&&o.units.length?o.units.join(""):"";return o;}});}}};});