/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.xml.DomParser"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.xml.DomParser"]){_4._hasResource["dojox.xml.DomParser"]=true;_4.provide("dojox.xml.DomParser");_6.xml.DomParser=new (function(){var _7={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9};var _8=/<([^>\/\s+]*)([^>]*)>([^<]*)/g;var _9=/([^=]*)=(("([^"]*)")|('([^']*)'))/g;var _a=/<!ENTITY\s+([^"]*)\s+"([^"]*)">/g;var _b=/<!\[CDATA\[([\u0001-\uFFFF]*?)\]\]>/g;var _c=/<!--([\u0001-\uFFFF]*?)-->/g;var _d=/^\s+|\s+$/g;var _e=/\s+/g;var _f=/\&gt;/g;var elt=/\&lt;/g;var _10=/\&quot;/g;var _11=/\&apos;/g;var _12=/\&amp;/g;var dNs="_def_";function _13(){return new (function(){var all={};this.nodeType=_7.DOCUMENT;this.nodeName="#document";this.namespaces={};this._nsPaths={};this.childNodes=[];this.documentElement=null;this._add=function(obj){if(typeof (obj.id)!="undefined"){all[obj.id]=obj;}};this._remove=function(id){if(all[id]){delete all[id];}};this.byId=this.getElementById=function(id){return all[id];};this.byName=this.getElementsByTagName=_14;this.byNameNS=this.getElementsByTagNameNS=_15;this.childrenByName=_16;this.childrenByNameNS=_17;})();};function _14(_18){function _19(_1a,_1b,arr){_4.forEach(_1a.childNodes,function(c){if(c.nodeType==_7.ELEMENT){if(_1b=="*"){arr.push(c);}else{if(c.nodeName==_1b){arr.push(c);}}_19(c,_1b,arr);}});};var a=[];_19(this,_18,a);return a;};function _15(_1c,ns){function _1d(_1e,_1f,ns,arr){_4.forEach(_1e.childNodes,function(c){if(c.nodeType==_7.ELEMENT){if(_1f=="*"&&c.ownerDocument._nsPaths[ns]==c.namespace){arr.push(c);}else{if(c.localName==_1f&&c.ownerDocument._nsPaths[ns]==c.namespace){arr.push(c);}}_1d(c,_1f,ns,arr);}});};if(!ns){ns=dNs;}var a=[];_1d(this,_1c,ns,a);return a;};function _16(_20){var a=[];_4.forEach(this.childNodes,function(c){if(c.nodeType==_7.ELEMENT){if(_20=="*"){a.push(c);}else{if(c.nodeName==_20){a.push(c);}}}});return a;};function _17(_21,ns){var a=[];_4.forEach(this.childNodes,function(c){if(c.nodeType==_7.ELEMENT){if(_21=="*"&&c.ownerDocument._nsPaths[ns]==c.namespace){a.push(c);}else{if(c.localName==_21&&c.ownerDocument._nsPaths[ns]==c.namespace){a.push(c);}}}});return a;};function _22(v){return {nodeType:_7.TEXT,nodeName:"#text",nodeValue:v.replace(_e," ").replace(_f,">").replace(elt,"<").replace(_11,"'").replace(_10,"\"").replace(_12,"&")};};function _23(_24){for(var i=0;i<this.attributes.length;i++){if(this.attributes[i].nodeName==_24){return this.attributes[i].nodeValue;}}return null;};function _25(_26,ns){for(var i=0;i<this.attributes.length;i++){if(this.ownerDocument._nsPaths[ns]==this.attributes[i].namespace&&this.attributes[i].localName==_26){return this.attributes[i].nodeValue;}}return null;};function _27(_28,val){var old=null;for(var i=0;i<this.attributes.length;i++){if(this.attributes[i].nodeName==_28){old=this.attributes[i].nodeValue;this.attributes[i].nodeValue=val;break;}}if(_28=="id"){if(old!=null){this.ownerDocument._remove(old);}this.ownerDocument._add(this);}};function _29(_2a,val,ns){for(var i=0;i<this.attributes.length;i++){if(this.ownerDocument._nsPaths[ns]==this.attributes[i].namespace&&this.attributes[i].localName==_2a){this.attributes[i].nodeValue=val;return;}}};function _2b(){var p=this.parentNode;if(p){for(var i=0;i<p.childNodes.length;i++){if(p.childNodes[i]==this&&i>0){return p.childNodes[i-1];}}}return null;};function _2c(){var p=this.parentNode;if(p){for(var i=0;i<p.childNodes.length;i++){if(p.childNodes[i]==this&&(i+1)<p.childNodes.length){return p.childNodes[i+1];}}}return null;};this.parse=function(str){var _2d=_13();if(str==null){return _2d;}if(str.length==0){return _2d;}if(str.indexOf("<!ENTITY")>0){var _2e,eRe=[];if(_a.test(str)){_a.lastIndex=0;while((_2e=_a.exec(str))!=null){eRe.push({entity:"&"+_2e[1].replace(_d,"")+";",expression:_2e[2]});}for(var i=0;i<eRe.length;i++){str=str.replace(new RegExp(eRe[i].entity,"g"),eRe[i].expression);}}}var _2f=[],_30;while((_30=_b.exec(str))!=null){_2f.push(_30[1]);}for(var i=0;i<_2f.length;i++){str=str.replace(_2f[i],i);}var _31=[],_32;while((_32=_c.exec(str))!=null){_31.push(_32[1]);}for(i=0;i<_31.length;i++){str=str.replace(_31[i],i);}var res,obj=_2d;while((res=_8.exec(str))!=null){if(res[2].charAt(0)=="/"&&res[2].replace(_d,"").length>1){if(obj.parentNode){obj=obj.parentNode;}var _33=(res[3]||"").replace(_d,"");if(_33.length>0){obj.childNodes.push(_22(_33));}}else{if(res[1].length>0){if(res[1].charAt(0)=="?"){var _34=res[1].substr(1);var _35=res[2].substr(0,res[2].length-2);obj.childNodes.push({nodeType:_7.PROCESSING_INSTRUCTION,nodeName:_34,nodeValue:_35});}else{if(res[1].charAt(0)=="!"){if(res[1].indexOf("![CDATA[")==0){var val=parseInt(res[1].replace("![CDATA[","").replace("]]",""));obj.childNodes.push({nodeType:_7.CDATA_SECTION,nodeName:"#cdata-section",nodeValue:_2f[val]});}else{if(res[1].substr(0,3)=="!--"){var val=parseInt(res[1].replace("!--","").replace("--",""));obj.childNodes.push({nodeType:_7.COMMENT,nodeName:"#comment",nodeValue:_31[val]});}}}else{var _34=res[1].replace(_d,"");var o={nodeType:_7.ELEMENT,nodeName:_34,localName:_34,namespace:dNs,ownerDocument:_2d,attributes:[],parentNode:null,childNodes:[]};if(_34.indexOf(":")>-1){var t=_34.split(":");o.namespace=t[0];o.localName=t[1];}o.byName=o.getElementsByTagName=_14;o.byNameNS=o.getElementsByTagNameNS=_15;o.childrenByName=_16;o.childrenByNameNS=_17;o.getAttribute=_23;o.getAttributeNS=_25;o.setAttribute=_27;o.setAttributeNS=_29;o.previous=o.previousSibling=_2b;o.next=o.nextSibling=_2c;var _36;while((_36=_9.exec(res[2]))!=null){if(_36.length>0){var _34=_36[1].replace(_d,"");var val=(_36[4]||_36[6]||"").replace(_e," ").replace(_f,">").replace(elt,"<").replace(_11,"'").replace(_10,"\"").replace(_12,"&");if(_34.indexOf("xmlns")==0){if(_34.indexOf(":")>0){var ns=_34.split(":");_2d.namespaces[ns[1]]=val;_2d._nsPaths[val]=ns[1];}else{_2d.namespaces[dNs]=val;_2d._nsPaths[val]=dNs;}}else{var ln=_34;var ns=dNs;if(_34.indexOf(":")>0){var t=_34.split(":");ln=t[1];ns=t[0];}o.attributes.push({nodeType:_7.ATTRIBUTE,nodeName:_34,localName:ln,namespace:ns,nodeValue:val});if(ln=="id"){o.id=val;}}}}_2d._add(o);if(obj){obj.childNodes.push(o);o.parentNode=obj;if(res[2].charAt(res[2].length-1)!="/"){obj=o;}}var _33=res[3];if(_33.length>0){obj.childNodes.push(_22(_33));}}}}}}for(var i=0;i<_2d.childNodes.length;i++){var e=_2d.childNodes[i];if(e.nodeType==_7.ELEMENT){_2d.documentElement=e;break;}}return _2d;};})();}}};});