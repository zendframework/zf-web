/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.form.manager._Mixin"],["require","dijit._Widget"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.form.manager._Mixin"]){_4._hasResource["dojox.form.manager._Mixin"]=true;_4.provide("dojox.form.manager._Mixin");_4.require("dijit._Widget");(function(){var fm=_6.form.manager,aa=fm.actionAdapter=function(_7){return function(_8,_9,_a){if(_4.isArray(_9)){_4.forEach(_9,function(_b){_7.call(this,_8,_b,_a);},this);}else{_7.apply(this,arguments);}};},ia=fm.inspectorAdapter=function(_c){return function(_d,_e,_f){return _c.call(this,_d,_4.isArray(_e)?_e[0]:_e,_f);};},_10={domNode:1,containerNode:1,srcNodeRef:1,bgIframe:1},_11=fm._keys=function(o){var _12=[],key;for(key in o){if(o.hasOwnProperty(key)){_12.push(key);}}return _12;},_13=function(_14){var _15=_14.attr("name");if(_15&&_14 instanceof _5.form._FormWidget){if(_15 in this.formWidgets){var a=this.formWidgets[_15].widget;if(_4.isArray(a)){a.push(_14);}else{this.formWidgets[_15].widget=[a,_14];}}else{this.formWidgets[_15]={widget:_14,connections:[]};}}else{_15=null;}return _15;},_16=function(_17){var _18={};aa(function(_19,w){var o=w.attr("observer");if(o&&typeof o=="string"){_4.forEach(o.split(","),function(o){o=_4.trim(o);if(o&&_4.isFunction(this[o])){_18[o]=1;}},this);}}).call(this,null,this.formWidgets[_17].widget);return _11(_18);},_1a=function(_1b,_1c){var t=this.formWidgets[_1b],w=t.widget,c=t.connections;if(c.length){_4.forEach(c,_4.disconnect);c=t.connections=[];}if(_4.isArray(w)){_4.forEach(w,function(w){_4.forEach(_1c,function(o){c.push(_4.connect(w,"onChange",this,function(evt){if(this.watch&&_4.attr(w.focusNode,"checked")){this[o](w.attr("value"),_1b,w,evt);}}));},this);},this);}else{var _1d=w.declaredClass=="dijit.form.Button"?"onClick":"onChange";_4.forEach(_1c,function(o){c.push(_4.connect(w,_1d,this,function(evt){if(this.watch){this[o](w.attr("value"),_1b,w,evt);}}));},this);}};_4.declare("dojox.form.manager._Mixin",null,{watch:true,startup:function(){if(this._started){return;}this.formWidgets={};this.formNodes={};this.registerWidgetDescendants(this);this.inherited(arguments);},destroy:function(){for(var _1e in this.formWidgets){_4.forEach(this.formWidgets[_1e].connections,_4.disconnect);}this.formWidgets={};this.inherited(arguments);},registerWidget:function(_1f){if(typeof _1f=="string"){_1f=_5.byId(_1f);}else{if(_1f.tagName&&_1f.cloneNode){_1f=_5.byNode(_1f);}}var _20=_13.call(this,_1f);if(_20){_1a.call(this,_20,_16.call(this,_20));}return this;},unregisterWidget:function(_21){if(_21 in this.formWidgets){_4.forEach(this.formWidgets[_21].connections,this.disconnect,this);delete this.formWidgets[_21];}return this;},registerWidgetDescendants:function(_22){if(typeof _22=="string"){_22=_5.byId(_22);}else{if(_22.tagName&&_22.cloneNode){_22=_5.byNode(_22);}}var _23=_4.map(_22.getDescendants(),_13,this);_4.forEach(_23,function(_24){if(_24){_1a.call(this,_24,_16.call(this,_24));}},this);return this.registerNodeDescendants?this.registerNodeDescendants(_22.domNode):this;},unregisterWidgetDescendants:function(_25){if(typeof _25=="string"){_25=_5.byId(_25);}else{if(_25.tagName&&_25.cloneNode){_25=_5.byNode(_25);}}_4.forEach(_4.map(_25.getDescendants(),function(w){return w instanceof _5.form._FormWidget&&w.attr("name")||null;}),function(_26){if(_26){this.unregisterNode(_26);}},this);return this.unregisterNodeDescendants?this.unregisterNodeDescendants(_25.domNode):this;},formWidgetValue:function(_27,_28){var _29=arguments.length==2&&_28!==undefined,_2a;if(typeof _27=="string"){_27=this.formWidgets[_27];if(_27){_27=_27.widget;}}if(!_27){return null;}if(_4.isArray(_27)){if(_29){_4.forEach(_27,function(_2b){_2b.attr("checked",false);});_4.forEach(_27,function(_2c){_2c.attr("checked",_2c.attr("value")===_28);});return this;}_4.some(_27,function(_2d){if(_4.attr(_2d.focusNode,"checked")){_2a=_2d;return true;}return false;});return _2a?_2a.attr("value"):"";}if(_29){_27.attr("value",_28);return this;}return _27.attr("value");},formPointValue:function(_2e,_2f){if(_2e&&typeof _2e=="string"){_2e=this[_2e];}if(!_2e||!_2e.tagName||!_2e.cloneNode){return null;}if(!_4.hasClass(_2e,"dojoFormValue")){return null;}if(arguments.length==2&&_2f!==undefined){_2e.innerHTML=_2f;return this;}return _2e.innerHTML;},inspectFormWidgets:function(_30,_31,_32){var _33,_34={};if(_31){if(_4.isArray(_31)){_4.forEach(_31,function(_35){if(_35 in this.formWidgets){_34[_35]=_30.call(this,_35,this.formWidgets[_35].widget,_32);}},this);}else{for(_33 in _31){if(_33 in this.formWidgets){_34[_33]=_30.call(this,_33,this.formWidgets[_33].widget,_31[_33]);}}}}else{for(_33 in this.formWidgets){_34[_33]=_30.call(this,_33,this.formWidgets[_33].widget,_32);}}return _34;},inspectAttachedPoints:function(_36,_37,_38){var _39,_3a={};if(_37){if(_4.isArray(_37)){_4.forEach(_37,function(_3b){var _3c=this[_3b];if(_3c&&_3c.tagName&&_3c.cloneNode){_3a[_3b]=_36.call(this,_3b,_3c,_38);}},this);}else{for(_39 in _37){var _3d=this[_39];if(_3d&&_3d.tagName&&_3d.cloneNode){_3a[_39]=_36.call(this,_39,_3d,_37[_39]);}}}}else{for(_39 in this){if(!(_39 in _10)){var _3d=this[_39];if(_3d&&_3d.tagName&&_3d.cloneNode){_3a[_39]=_36.call(this,_39,_3d,_38);}}}}return _3a;},inspect:function(_3e,_3f,_40){var _41=this.inspectFormWidgets(function(_42,_43,_44){if(_4.isArray(_43)){return _3e.call(this,_42,_4.map(_43,function(w){return w.domNode;}),_44);}return _3e.call(this,_42,_43.domNode,_44);},_3f,_40);if(this.inspectFormNodes){_4.mixin(_41,this.inspectFormNodes(_3e,_3f,_40));}return _4.mixin(_41,this.inspectAttachedPoints(_3e,_3f,_40));}});})();_4.extend(_5._Widget,{observer:""});}}};});