/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.gfx._base"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.gfx._base"]){_4._hasResource["dojox.gfx._base"]=true;_4.provide("dojox.gfx._base");(function(){var g=_6.gfx,b=g._base;g._hasClass=function(_7,_8){var _9=_7.getAttribute("className");return _9&&(" "+_9+" ").indexOf(" "+_8+" ")>=0;};g._addClass=function(_a,_b){var _c=_a.getAttribute("className")||"";if(!_c||(" "+_c+" ").indexOf(" "+_b+" ")<0){_a.setAttribute("className",_c+(_c?" ":"")+_b);}};g._removeClass=function(_d,_e){var _f=_d.getAttribute("className");if(_f){_d.setAttribute("className",_f.replace(new RegExp("(^|\\s+)"+_e+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _10={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(_4.isIE){_4.doc.documentElement.style.fontSize="100%";}var div=_4.doc.createElement("div");var s=div.style;s.position="absolute";s.left="-100px";s.top="0px";s.width="30px";s.height="1000em";s.border="0px";s.margin="0px";s.padding="0px";s.outline="none";s.lineHeight="1";s.overflow="hidden";_4.body().appendChild(div);for(var p in _10){div.style.fontSize=p;_10[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}_4.body().removeChild(div);div=null;return _10;};var _11=null;b._getCachedFontMeasurements=function(_12){if(_12||!_11){_11=b._getFontMeasurements();}return _11;};var _13=null,_14={};b._getTextBox=function(_15,_16,_17){var m,s,al=arguments.length;if(!_13){m=_13=_4.doc.createElement("div");s=m.style;s.position="absolute";s.left="-10000px";s.top="0";_4.body().appendChild(m);}else{m=_13;s=m.style;}m.className="";s.border="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_16){for(var i in _16){if(i in _14){continue;}s[i]=_16[i];}}if(al>2&&_17){m.className=_17;}m.innerHTML=_15;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return _4.marginBox(m);}};var _18=0;b._getUniqueId=function(){var id;do{id=_4._scopeName+"Unique"+(++_18);}while(_4.byId(id));return id;};})();_4.mixin(_6.gfx,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _19={};return function(_1a){var t=_19[_1a];if(t){return new t();}t=_19[_1a]=new Function;t.prototype=_6.gfx["default"+_1a];return new t();};})(),normalizeColor:function(_1b){return (_1b instanceof _4.Color)?_1b:new _4.Color(_1b);},normalizeParameters:function(_1c,_1d){if(_1d){var _1e={};for(var x in _1c){if(x in _1d&&!(x in _1e)){_1c[x]=_1d[x];}}}return _1c;},makeParameters:function(_1f,_20){if(!_20){return _4.delegate(_1f);}var _21={};for(var i in _1f){if(!(i in _21)){_21[i]=_4.clone((i in _20)?_20[i]:_1f[i]);}}return _21;},formatNumber:function(x,_22){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _23=val.indexOf(".");if(_23>=0&&val.length-_23>5){val=x.toFixed(4);}}if(x<0){return val;}return _22?" "+val:val;},makeFontString:function(_24){return _24.style+" "+_24.variant+" "+_24.weight+" "+_24.size+" "+_24.family;},splitFontString:function(str){var _25=_6.gfx.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}_25.style=t[0];_25.variant=t[1];_25.weight=t[2];var i=t[3].indexOf("/");_25.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){_25.family=t.slice(j).join(" ");}}while(false);return _25;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return _6.gfx._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*_6.gfx.px_in_pt();},px2pt:function(len){return len/_6.gfx.px_in_pt();},normalizedLength:function(len){if(len.length==0){return 0;}if(len.length>2){var _26=_6.gfx.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_26;case "in":return val*72*_26;case "pc":return val*12*_26;case "mm":return val*_6.gfx.mm_in_pt*_26;case "cm":return val*_6.gfx.cm_in_pt*_26;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a==b;}});}}};});