/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.json.schema"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.json.schema"]){_4._hasResource["dojox.json.schema"]=true;_4.provide("dojox.json.schema");_6.json.schema.validate=function(_7,_8){return this._validate(_7,_8,false);};_6.json.schema.checkPropertyChange=function(_9,_a,_b){return this._validate(_9,_a,_b||"property");};_6.json.schema.mustBeValid=function(_c){if(!_c.valid){throw new TypeError(_4.map(_c.errors,function(_d){return "for property "+_d.property+": "+_d.message;}).join(", "));}};_6.json.schema._validate=function(_e,_f,_10){var _11=[];function _12(_13,_14,_15,i){var l;_15+=_15?typeof i=="number"?"["+i+"]":typeof i=="undefined"?"":"."+i:i;function _16(_17){_11.push({property:_15,message:_17});};if((typeof _14!="object"||_14 instanceof Array)&&(_15||typeof _14!="function")){if(typeof _14=="function"){if(!(Object(_13) instanceof _14)){_16("is not an instance of the class/constructor "+_14.name);}}else{if(_14){_16("Invalid schema/property definition "+_14);}}return null;}if(_10&&_14.readonly){_16("is a readonly field, it can not be changed");}if(_14["extends"]){_12(_13,_14["extends"],_15,i);}function _18(_19,_1a){if(_19){if(typeof _19=="string"&&_19!="any"&&(_19=="null"?_1a!==null:typeof _1a!=_19)&&!(_1a instanceof Array&&_19=="array")&&!(_19=="integer"&&_1a%1===0)){return [{property:_15,message:(typeof _1a)+" value found, but a "+_19+" is required"}];}if(_19 instanceof Array){var _1b=[];for(var j=0;j<_19.length;j++){if(!(_1b=_18(_19[j],_1a)).length){break;}}if(_1b.length){return _1b;}}else{if(typeof _19=="object"){var _1c=_11;_11=[];_12(_1a,_19,_15);var _1d=_11;_11=_1c;return _1d;}}}return [];};if(_13===undefined){if(!_14.optional){_16("is missing and it is not optional");}}else{_11=_11.concat(_18(_14.type,_13));if(_14.disallow&&!_18(_14.disallow,_13).length){_16(" disallowed value was matched");}if(_13!==null){if(_13 instanceof Array){if(_14.items){if(_14.items instanceof Array){for(i=0,l=_13.length;i<l;i++){_11.concat(_12(_13[i],_14.items[i],_15,i));}}else{for(i=0,l=_13.length;i<l;i++){_11.concat(_12(_13[i],_14.items,_15,i));}}}if(_14.minItems&&_13.length<_14.minItems){_16("There must be a minimum of "+_14.minItems+" in the array");}if(_14.maxItems&&_13.length>_14.maxItems){_16("There must be a maximum of "+_14.maxItems+" in the array");}}else{if(_14.properties){_11.concat(_1e(_13,_14.properties,_15,_14.additionalProperties));}}if(_14.pattern&&typeof _13=="string"&&!_13.match(_14.pattern)){_16("does not match the regex pattern "+_14.pattern);}if(_14.maxLength&&typeof _13=="string"&&_13.length>_14.maxLength){_16("may only be "+_14.maxLength+" characters long");}if(_14.minLength&&typeof _13=="string"&&_13.length<_14.minLength){_16("must be at least "+_14.minLength+" characters long");}if(typeof _14.minimum!==undefined&&typeof _13==typeof _14.minimum&&_14.minimum>_13){_16("must have a minimum value of "+_14.minimum);}if(typeof _14.maximum!==undefined&&typeof _13==typeof _14.maximum&&_14.maximum<_13){_16("must have a maximum value of "+_14.maximum);}if(_14["enum"]){var _1f=_14["enum"];l=_1f.length;var _20;for(var j=0;j<l;j++){if(_1f[j]===_13){_20=1;break;}}if(!_20){_16("does not have a value in the enumeration "+_1f.join(", "));}}if(typeof _14.maxDecimal=="number"&&(_13.toString().match(new RegExp("\\.[0-9]{"+(_14.maxDecimal+1)+",}")))){_16("may only have "+_14.maxDecimal+" digits of decimal places");}}}return null;};function _1e(_21,_22,_23,_24){if(typeof _22=="object"){if(typeof _21!="object"||_21 instanceof Array){_11.push({property:_23,message:"an object is required"});}for(var i in _22){if(_22.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){var _25=_21[i];var _26=_22[i];_12(_25,_26,_23,i);}}}for(i in _21){if(_21.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&_22&&!_22[i]&&_24===false){_11.push({property:_23,message:(typeof _25)+"The property "+i+" is not defined in the schema and the schema does not allow additional properties"});}var _27=_22&&_22[i]&&_22[i].requires;if(_27&&!(_27 in _21)){_11.push({property:_23,message:"the presence of the property "+i+" requires that "+_27+" also be present"});}_25=_21[i];if(_22&&typeof _22=="object"&&!(i in _22)){_12(_25,_24,_23,i);}if(!_10&&_25&&_25.$schema){_11=_11.concat(_12(_25,_25.$schema,_23,i));}}return _11;};if(_f){_12(_e,_f,"",_10||"");}if(!_10&&_e&&_e.$schema){_12(_e,_e.$schema,"","");}return {valid:!_11.length,errors:_11};};}}};});