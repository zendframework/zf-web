/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.secure.capability"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.secure.capability"]){_4._hasResource["dojox.secure.capability"]=true;_4.provide("dojox.secure.capability");_6.secure.badProps=/^__|^(apply|call|callee|caller|constructor|eval|prototype|this|unwatch|valueOf|watch)$|__$/;_6.secure.capability={keywords:["break","case","catch","const","continue","debugger","default","delete","do","else","enum","false","finally","for","function","if","in","instanceof","new","null","yield","return","switch","throw","true","try","typeof","var","void","while"],validate:function(_7,_8,_9){var _a=this.keywords;for(var i=0;i<_a.length;i++){_9[_a[i]]=true;}var _b="|this| keyword in object literal without a Class call";var _c=[];if(_7.match(/[\u200c-\u200f\u202a-\u202e\u206a-\u206f\uff00-\uffff]/)){throw new Error("Illegal unicode characters detected");}if(_7.match(/\/\*@cc_on/)){throw new Error("Conditional compilation token is not allowed");}_7=_7.replace(/\\["'\\\/bfnrtu]/g,"@").replace(/\/\/.*|\/\*[\w\W]*?\*\/|\/(\\[\/\\]|[^*\/])(\\.|[^\/\n\\])*\/[gim]*|("[^"]*")|('[^']*')/g,function(t){return t.match(/^\/\/|^\/\*/)?" ":"0";}).replace(/\.\s*([a-z\$_A-Z][\w\$_]*)|([;,{])\s*([a-z\$_A-Z][\w\$_]*\s*):/g,function(t,_d,_e,_f){_d=_d||_f;if(/^__|^(apply|call|callee|caller|constructor|eval|prototype|this|unwatch|valueOf|watch)$|__$/.test(_d)){throw new Error("Illegal property name "+_d);}return (_e&&(_e+"0:"))||"~";});_7.replace(/([^\[][\]\}]\s*=)|((\Wreturn|\S)\s*\[\s*\+?)|([^=!][=!]=[^=])/g,function(_10){if(!_10.match(/((\Wreturn|[=\&\|\:\?\,])\s*\[)|\[\s*\+$/)){throw new Error("Illegal operator "+_10.substring(1));}});_7=_7.replace(new RegExp("("+_8.join("|")+")[\\s~]*\\(","g"),function(_11){return "new(";});function _12(_13,_14){var _15={};_13.replace(/#\d+/g,function(b){var _16=_c[b.substring(1)];for(var i in _16){if(i==_b){throw i;}if(i=="this"&&_16[":method"]&&_16["this"]==1){i=_b;}if(i!=":method"){_15[i]=2;}}});_13.replace(/(\W|^)([a-z_\$A-Z][\w_\$]*)/g,function(t,a,_17){if(_17.charAt(0)=="_"){throw new Error("Names may not start with _");}_15[_17]=1;});return _15;};var _18,_19;function _1a(t,_1b,a,b,_1c,_1d){_1d.replace(/(^|,)0:\s*function#(\d+)/g,function(t,a,b){var _1e=_c[b];_1e[":method"]=1;});_1d=_1d.replace(/(^|[^_\w\$])Class\s*\(\s*([_\w\$]+\s*,\s*)*#(\d+)/g,function(t,p,a,b){var _1f=_c[b];delete _1f[_b];return (p||"")+(a||"")+"#"+b;});_19=_12(_1d,_1b);function _20(t,a,b,_21){_21.replace(/,?([a-z\$A-Z][_\w\$]*)/g,function(t,_22){if(_22=="Class"){throw new Error("Class is reserved");}delete _19[_22];});};if(_1b){_20(t,a,a,_1c);}_1d.replace(/(\W|^)(var) ([ \t,_\w\$]+)/g,_20);return (a||"")+(b||"")+"#"+(_c.push(_19)-1);};do{_18=_7.replace(/((function|catch)(\s+[_\w\$]+)?\s*\(([^\)]*)\)\s*)?{([^{}]*)}/g,_1a);}while(_18!=_7&&(_7=_18));_1a(0,0,0,0,0,_7);for(i in _19){if(!(i in _9)){throw new Error("Illegal reference to "+i);}}}};}}};});