/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.fx.flip"],["require","dojo.fx"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.fx.flip"]){_4._hasResource["dojox.fx.flip"]=true;_4.provide("dojox.fx.flip");_4.experimental("dojox.fx.flip");_4.require("dojo.fx");(function(){var _7="border",_8="Width",_9="Height",_a="Top",_b="Right",_c="Left",_d="Bottom";_6.fx.flip=function(_e){var _f=_4.create("div"),_10=_e.node=_4.byId(_e.node),s=_10.style,_11=null,hs=null,pn=null,_12=_e.lightColor||"#dddddd",_13=_e.darkColor||"#555555",_14=_4.style(_10,"backgroundColor"),_15=_e.endColor||_14,_16={},_17=[],_18=_e.duration?_e.duration/2:250,dir=_e.dir||"left",_19=0.9,_1a="transparent",_1b=_e.whichAnim,_1c=_e.axis||"center",_1d=_e.depth;var _1e=function(_1f){return ((new _4.Color(_1f)).toHex()==="#000000")?"#000001":_1f;};if(_4.isIE<7){_15=_1e(_15);_12=_1e(_12);_13=_1e(_13);_14=_1e(_14);_1a="black";_f.style.filter="chroma(color='#000000')";}var _20=(function(n){return function(){var ret=_4.coords(n,true);_11={top:ret.y,left:ret.x,width:ret.w,height:ret.h};};})(_10);_20();hs={position:"absolute",top:_11["top"]+"px",left:_11["left"]+"px",height:"0",width:"0",zIndex:_e.zIndex||(s.zIndex||0),border:"0 solid "+_1a,fontSize:"0",visibility:"hidden"};var _21=[{},{top:_11["top"],left:_11["left"]}];var _22={left:[_c,_b,_a,_d,_8,_9,"end"+_9+"Min",_c,"end"+_9+"Max"],right:[_b,_c,_a,_d,_8,_9,"end"+_9+"Min",_c,"end"+_9+"Max"],top:[_a,_d,_c,_b,_9,_8,"end"+_8+"Min",_a,"end"+_8+"Max"],bottom:[_d,_a,_c,_b,_9,_8,"end"+_8+"Min",_a,"end"+_8+"Max"]};pn=_22[dir];if(typeof _1d!="undefined"){_1d=Math.max(0,Math.min(1,_1d))/2;_19=0.4+(0.5-_1d);}else{_19=Math.min(0.9,Math.max(0.4,_11[pn[5].toLowerCase()]/_11[pn[4].toLowerCase()]));}var p0=_21[0];for(var i=4;i<6;i++){if(_1c=="center"||_1c=="cube"){_11["end"+pn[i]+"Min"]=_11[pn[i].toLowerCase()]*_19;_11["end"+pn[i]+"Max"]=_11[pn[i].toLowerCase()]/_19;}else{if(_1c=="shortside"){_11["end"+pn[i]+"Min"]=_11[pn[i].toLowerCase()];_11["end"+pn[i]+"Max"]=_11[pn[i].toLowerCase()]/_19;}else{if(_1c=="longside"){_11["end"+pn[i]+"Min"]=_11[pn[i].toLowerCase()]*_19;_11["end"+pn[i]+"Max"]=_11[pn[i].toLowerCase()];}}}}if(_1c=="center"){p0[pn[2].toLowerCase()]=_11[pn[2].toLowerCase()]-(_11[pn[8]]-_11[pn[6]])/4;}else{if(_1c=="shortside"){p0[pn[2].toLowerCase()]=_11[pn[2].toLowerCase()]-(_11[pn[8]]-_11[pn[6]])/2;}}_16[pn[5].toLowerCase()]=_11[pn[5].toLowerCase()]+"px";_16[pn[4].toLowerCase()]="0";_16[_7+pn[1]+_8]=_11[pn[4].toLowerCase()]+"px";_16[_7+pn[1]+"Color"]=_14;p0[_7+pn[1]+_8]=0;p0[_7+pn[1]+"Color"]=_13;p0[_7+pn[2]+_8]=p0[_7+pn[3]+_8]=_1c!="cube"?(_11["end"+pn[5]+"Max"]-_11["end"+pn[5]+"Min"])/2:_11[pn[6]]/2;p0[pn[7].toLowerCase()]=_11[pn[7].toLowerCase()]+_11[pn[4].toLowerCase()]/2+(_e.shift||0);p0[pn[5].toLowerCase()]=_11[pn[6]];var p1=_21[1];p1[_7+pn[0]+"Color"]={start:_12,end:_15};p1[_7+pn[0]+_8]=_11[pn[4].toLowerCase()];p1[_7+pn[2]+_8]=0;p1[_7+pn[3]+_8]=0;p1[pn[5].toLowerCase()]={start:_11[pn[6]],end:_11[pn[5].toLowerCase()]};_4.mixin(hs,_16);_4.style(_f,hs);_4.body().appendChild(_f);var _23=function(){_4.destroy(_f);s.backgroundColor=_15;s.visibility="visible";};if(_1b=="last"){for(i in p0){p0[i]={start:p0[i]};}p0[_7+pn[1]+"Color"]={start:_13,end:_15};p1=p0;}if(!_1b||_1b=="first"){_17.push(_4.animateProperty({node:_f,duration:_18,properties:p0}));}if(!_1b||_1b=="last"){_17.push(_4.animateProperty({node:_f,duration:_18,properties:p1,onEnd:_23}));}_4.connect(_17[0],"play",function(){_f.style.visibility="visible";s.visibility="hidden";});return _4.fx.chain(_17);};_6.fx.flipCube=function(_24){var _25=[],mb=_4.marginBox(_24.node),_26=mb.w/2,_27=mb.h/2,_28={top:{pName:"height",args:[{whichAnim:"first",dir:"top",shift:-_27},{whichAnim:"last",dir:"bottom",shift:_27}]},right:{pName:"width",args:[{whichAnim:"first",dir:"right",shift:_26},{whichAnim:"last",dir:"left",shift:-_26}]},bottom:{pName:"height",args:[{whichAnim:"first",dir:"bottom",shift:_27},{whichAnim:"last",dir:"top",shift:-_27}]},left:{pName:"width",args:[{whichAnim:"first",dir:"left",shift:-_26},{whichAnim:"last",dir:"right",shift:_26}]}};var d=_28[_24.dir||"left"],p=d.args;_24.duration=_24.duration?_24.duration*2:500;_24.depth=0.8;_24.axis="cube";for(var i=p.length-1;i>=0;i--){_4.mixin(_24,p[i]);_25.push(_6.fx.flip(_24));}return _4.fx.combine(_25);};_6.fx.flipPage=function(_29){var n=_29.node,_2a=_4.coords(n,true),x=_2a.x,y=_2a.y,w=_2a.w,h=_2a.h,_2b=_4.style(n,"backgroundColor"),_2c=_29.lightColor||"#dddddd",_2d=_29.darkColor,_2e=_4.create("div"),_2f=[],hn=[],dir=_29.dir||"right",pn={left:["left","right","x","w"],top:["top","bottom","y","h"],right:["left","left","x","w"],bottom:["top","top","y","h"]},_30={right:[1,-1],left:[-1,1],top:[-1,1],bottom:[1,-1]};_4.style(_2e,{position:"absolute",width:w+"px",height:h+"px",top:y+"px",left:x+"px",visibility:"hidden"});var hs=[];for(var i=0;i<2;i++){var r=i%2,d=r?pn[dir][1]:dir,wa=r?"last":"first",_31=r?_2b:_2c,_32=r?_31:_29.startColor||n.style.backgroundColor;hn[i]=_4.clone(_2e);var _33=function(x){return function(){_4.destroy(hn[x]);};}(i);_4.body().appendChild(hn[i]);hs[i]={backgroundColor:r?_32:_2b};hs[i][pn[dir][0]]=_2a[pn[dir][2]]+_30[dir][0]*i*_2a[pn[dir][3]]+"px";_4.style(hn[i],hs[i]);_2f.push(_6.fx.flip({node:hn[i],dir:d,axis:"shortside",depth:_29.depth,duration:_29.duration/2,shift:_30[dir][i]*_2a[pn[dir][3]]/2,darkColor:_2d,lightColor:_2c,whichAnim:wa,endColor:_31}));_4.connect(_2f[i],"onEnd",_33);}return _4.fx.chain(_2f);};_6.fx.flipGrid=function(_34){var _35=_34.rows||4,_36=_34.cols||4,_37=[],_38=_4.create("div"),n=_34.node,_39=_4.coords(n,true),x=_39.x,y=_39.y,nw=_39.w,nh=_39.h,w=_39.w/_36,h=_39.h/_35,_3a=[];_4.style(_38,{position:"absolute",width:w+"px",height:h+"px",backgroundColor:_4.style(n,"backgroundColor")});for(var i=0;i<_35;i++){var r=i%2,d=r?"right":"left",_3b=r?1:-1;var cn=_4.clone(n);_4.style(cn,{position:"absolute",width:nw+"px",height:nh+"px",top:y+"px",left:x+"px",clip:"rect("+i*h+"px,"+nw+"px,"+nh+"px,0)"});_4.body().appendChild(cn);_37[i]=[];for(var j=0;j<_36;j++){var hn=_4.clone(_38),l=r?j:_36-(j+1);var _3c=function(xn,_3d,_3e){return function(){if(!(_3d%2)){_4.style(xn,{clip:"rect("+_3d*h+"px,"+(nw-(_3e+1)*w)+"px,"+((_3d+1)*h)+"px,0px)"});}else{_4.style(xn,{clip:"rect("+_3d*h+"px,"+nw+"px,"+((_3d+1)*h)+"px,"+((_3e+1)*w)+"px)"});}};}(cn,i,j);_4.body().appendChild(hn);_4.style(hn,{left:x+l*w+"px",top:y+i*h+"px",visibility:"hidden"});var a=_6.fx.flipPage({node:hn,dir:d,duration:_34.duration||900,shift:_3b*w/2,depth:0.2,darkColor:_34.darkColor,lightColor:_34.lightColor,startColor:_34.startColor||_34.node.style.backgroundColor}),_3f=function(xn){return function(){_4.destroy(xn);};}(hn);_4.connect(a,"play",this,_3c);_4.connect(a,"play",this,_3f);_37[i].push(a);}_3a.push(_4.fx.chain(_37[i]));}_4.connect(_3a[0],"play",function(){_4.style(n,{visibility:"hidden"});});return _4.fx.combine(_3a);};})();}}};});