/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.form.HorizontalSlider"],["require","dijit.form._FormWidget"],["require","dijit._Container"],["require","dojo.dnd.move"],["require","dijit.form.Button"],["require","dojo.number"],["require","dojo._base.fx"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.form.HorizontalSlider"]){_4._hasResource["dijit.form.HorizontalSlider"]=true;_4.provide("dijit.form.HorizontalSlider");_4.require("dijit.form._FormWidget");_4.require("dijit._Container");_4.require("dojo.dnd.move");_4.require("dijit.form.Button");_4.require("dojo.number");_4.require("dojo._base.fx");_4.declare("dijit.form.HorizontalSlider",[_5.form._FormValueWidget,_5._Container],{templateString:_4.cache("dijit.form","templates/HorizontalSlider.html","<table class=\"dijit dijitReset dijitSlider\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress,onkeyup:_onKeyUp\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"topDecoration\" class=\"dijitReset\" style=\"text-align:center;width:100%;\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderDecrementIconH\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" ${nameAttrSetting}\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" waiRole=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\"\n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" dojoAttachEvent=\"onmousedown:_onHandleClick\" waiRole=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\" style=\"right:0px;\"\n\t\t\t><div class=\"dijitSliderIncrementIconH\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"containerNode,bottomDecoration\" class=\"dijitReset\" style=\"text-align:center;\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n></table>\n"),value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:_5.defaultDuration,widgetsInTemplate:true,attributeMap:_4.delegate(_5.form._FormWidget.prototype.attributeMap,{id:""}),baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}this._setValueAttr(this.value,true);},_onKeyPress:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.charOrCode){case _4.keys.HOME:this._setValueAttr(this.minimum,false);break;case _4.keys.END:this._setValueAttr(this.maximum,false);break;case ((this._descending||this.isLeftToRight())?_4.keys.RIGHT_ARROW:_4.keys.LEFT_ARROW):case (this._descending===false?_4.keys.DOWN_ARROW:_4.keys.UP_ARROW):case (this._descending===false?_4.keys.PAGE_DOWN:_4.keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?_4.keys.LEFT_ARROW:_4.keys.RIGHT_ARROW):case (this._descending===false?_4.keys.UP_ARROW:_4.keys.DOWN_ARROW):case (this._descending===false?_4.keys.PAGE_UP:_4.keys.PAGE_DOWN):this.decrement(e);break;default:return;}_4.stopEvent(e);},_onHandleClick:function(e){if(this.disabled||this.readOnly){return;}if(!_4.isIE){_5.focus(this.sliderHandle);}_4.stopEvent(e);},_isReversed:function(){return !this.isLeftToRight();},_onBarClick:function(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}_5.focus(this.sliderHandle);_4.stopEvent(e);var _7=_4.position(this.sliderBarContainer,true);var _8=e[this._mousePixelCoord]-_7[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_7[this._pixelCount]-_8):_8,_7[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function(_9,_a,_b){if(this.disabled||this.readOnly){return;}_9=_9<0?0:_a<_9?_a:_9;var _c=this.discreteValues;if(_c<=1||_c==Infinity){_c=_a;}_c--;var _d=_a/_c;var _e=Math.round(_9/_d);this._setValueAttr((this.maximum-this.minimum)*_e/_c+this.minimum,_b);},_setValueAttr:function(_f,_10){this.valueNode.value=this.value=_f;_5.setWaiState(this.focusNode,"valuenow",_f);this.inherited(arguments);var _11=(_f-this.minimum)/(this.maximum-this.minimum);var _12=(this._descending===false)?this.remainingBar:this.progressBar;var _13=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_10&&this.slideDuration>0&&_12.style[this._progressPixelSize]){var _14=this;var _15={};var _16=parseFloat(_12.style[this._progressPixelSize]);var _17=this.slideDuration*(_11-_16/100);if(_17==0){return;}if(_17<0){_17=0-_17;}_15[this._progressPixelSize]={start:_16,end:_11*100,units:"%"};this._inProgressAnim=_4.animateProperty({node:_12,duration:_17,onAnimate:function(v){_13.style[_14._progressPixelSize]=(100-parseFloat(v[_14._progressPixelSize]))+"%";},onEnd:function(){delete _14._inProgressAnim;},properties:_15});this._inProgressAnim.play();}else{_12.style[this._progressPixelSize]=(_11*100)+"%";_13.style[this._progressPixelSize]=((1-_11)*100)+"%";}},_bumpValue:function(_18,_19){if(this.disabled||this.readOnly){return;}var s=_4.getComputedStyle(this.sliderBarContainer);var c=_4._getContentBox(this.sliderBarContainer,s);var _1a=this.discreteValues;if(_1a<=1||_1a==Infinity){_1a=c[this._pixelCount];}_1a--;var _1b=(this.value-this.minimum)*_1a/(this.maximum-this.minimum)+_18;if(_1b<0){_1b=0;}if(_1b>_1a){_1b=_1a;}_1b=_1b*(this.maximum-this.minimum)/_1a+this.minimum;this._setValueAttr(_1b,_19);},_onClkBumper:function(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function(e){this._bumpValue(e.charOrCode==_4.keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function(e){this._bumpValue(e.charOrCode==_4.keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function(evt){_4.stopEvent(evt);var _1c=!_4.isMozilla;var _1d=evt[(_1c?"wheelDelta":"detail")]*(_1c?1:-1);this._bumpValue(_1d<0?-1:1,true);},startup:function(){_4.forEach(this.getChildren(),function(_1e){if(this[_1e.container]!=this.containerNode){this[_1e.container].appendChild(_1e.domNode);}},this);},_typematicCallback:function(_1f,_20,e){if(_1f==-1){this._setValueAttr(this.value,true);}else{this[(_20==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);}},postCreate:function(){if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";this._connects.push(_5.typematic.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(_5.typematic.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,!_4.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var _21=_4.declare(_5.form._SliderMover,{widget:this});this._movable=new _4.dnd.Moveable(this.sliderHandle,{mover:_21});var _22=_4.query("label[for=\""+this.id+"\"]");if(_22.length){_22[0].id=(this.id+"_label");_5.setWaiState(this.focusNode,"labelledby",_22[0].id);}_5.setWaiState(this.focusNode,"valuemin",this.minimum);_5.setWaiState(this.focusNode,"valuemax",this.maximum);this.inherited(arguments);this._layoutHackIE7();},destroy:function(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this._supportingWidgets=_5.findWidgets(this.domNode);this.inherited(arguments);}});_4.declare("dijit.form._SliderMover",_4.dnd.Mover,{onMouseMove:function(e){var _23=this.widget;var _24=_23._abspos;if(!_24){_24=_23._abspos=_4.position(_23.sliderBarContainer,true);_23._setPixelValue_=_4.hitch(_23,"_setPixelValue");_23._isReversed_=_23._isReversed();}var _25=e[_23._mousePixelCoord]-_24[_23._startingPixelCoord];_23._setPixelValue_(_23._isReversed_?(_24[_23._pixelCount]-_25):_25,_24[_23._pixelCount],false);},destroy:function(e){_4.dnd.Mover.prototype.destroy.apply(this,arguments);var _26=this.widget;_26._abspos=null;_26._setValueAttr(_26.value,true);}});}}};});