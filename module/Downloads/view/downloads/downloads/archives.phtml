<?php 
$this->render('downloads/downloads/sidebar', array('active' => 'overview'));

$headTitle = $this->headTitle();
$headTitle->prepend('Downloads');
$headTitle->prepend('Archives');
?>
<h1>Archives</h1>

<p>Every public release of Zend Framework or related products, all in one place.</p>

<ul class="button-group">
    <li><a href="#zf" class="button">Zend Framework</a></li>
    <li><a href="#gdata" class="button">Zend_Gdata</a></li>
    <li><a href="#infocard" class="button">Zend_InfoCard</a></li>
    <li><a href="#amf" class="button">Zend_AMF</a></li>
</ul>

<h2 id="zf">Zend Framework</h2>

<table class="twelve">
<?php foreach ($this->releases->getVersions() as $version):
    $date = $this->releases->getReleaseDate($version);
?>
    <tr>
        <td class="alpha archives">
            <strong><?php echo $this->escapeHtml($version) ?></strong><br />
            Released <?php echo $this->escapeHtml($date) ?>
        </td>

        <td>
            <div href="#" class="small button dropdown">
                Download
                <ul>
                    <li class="header">Full package</li>
                    <li>
                        <a href="<?php echo $this->releases->getArchive($version, 'zip') ?>">zip</a>
                    </li>
                    <li>
                        <a href="<?php echo $this->releases->getArchive($version, 'tar.gz') ?>">tar.gz</a>
                    </li>
                    <?php if ($this->releases->hasMinimalVersion($version)): ?>
                        <li class="divider"></li>
                        <li class="header">Minimal package</li>
                        <li>
                            <a href="<?php echo $this->releases->getMinimalArchive($version, 'zip') ?>">zip</a>
                        </li>
                        <li>
                            <a href="<?php echo $this->releases->getMinimalArchive($version, 'tar.gz') ?>">tar.gz</a>
                        </li>
                    <?php endif; ?>
                </ul>
            </div>
        </td>

        <td class="omega">
            <?php if ($this->releases->hasDocumentation($version) || $this->releases->hasApidocs($version)): ?>
                <div href="#" class="small button dropdown">
                    Documentation
                    <ul>
                        <?php
                        echo $this->render('downloads/downloads/documentation-links', array(
                            'version'  => $version,
                            'id'       => 'zf' . str_replace('.', '_', $version),
                            'releases' => $this->releases,
                        ));
                        ?>
                    </ul>
                </div>
            <?php endif; ?>
        </td>
    </tr>
<?php endforeach; ?>
</table>

<h2 id="gdata">Zend_Gdata</h2>

<table class="twelve">
<?php foreach ($this->releases->getProductVersions('gdata') as $version):
    $date = $this->releases->getReleaseDate($version);
?>
    <tr>
        <td class="alpha archives">
            <strong><?php echo $this->escapeHtml($version) ?></strong><br />
            Released <?php echo $this->escapeHtml($date) ?>
        </td>

        <td class="omega">
            <div href="#" class="small button dropdown">
                Download
                <ul>
                    <li>
                        <a href="<?php echo $this->releases->getProductArchive('gdata', $version, 'zip') ?>">zip</a>
                    </li>
                    <li>
                        <a href="<?php echo $this->releases->getProductArchive('gdata', $version, 'tar.gz') ?>">tar.gz</a>
                    </li>
                </ul>
            </div>
        </td>
    </tr>
<?php endforeach; ?>
</table>

<h2 id="infocard">Zend_InfoCard</h2>

<table class="twelve">
<?php foreach ($this->releases->getProductVersions('infocard') as $version):
    $date = $this->releases->getReleaseDate($version);
?>
    <tr>
        <td class="alpha archives">
            <strong><?php echo $this->escapeHtml($version) ?></strong><br />
            Released <?php echo $this->escapeHtml($date) ?>
        </td>

        <td class="omega">
            <div href="#" class="small button dropdown">
                Download
                <ul>
                    <li>
                        <a href="<?php echo $this->releases->getProductArchive('infocard', $version, 'zip') ?>">zip</a>
                    </li>
                    <li>
                        <a href="<?php echo $this->releases->getProductArchive('infocard', $version, 'tar.gz') ?>">tar.gz</a>
                    </li>
                </ul>
            </div>
        </td>
    </tr>
<?php endforeach; ?>
</table>

<h2 id="amf">Zend_AMF</h2>

<table class="twelve">
<?php foreach ($this->releases->getProductVersions('amf') as $version):
    $date = $this->releases->getReleaseDate($version);
?>
    <tr>
        <td class="alpha archives">
            <strong><?php echo $this->escapeHtml($version) ?></strong><br />
            Released <?php echo $this->escapeHtml($date) ?>
        </td>

        <td class="omega">
            <div href="#" class="small button dropdown">
                Download
                <ul>
                    <li>
                        <a href="<?php echo $this->releases->getProductArchive('amf', $version, 'zip') ?>">zip</a>
                    </li>
                    <li>
                        <a href="<?php echo $this->releases->getProductArchive('amf', $version, 'tar.gz') ?>">tar.gz</a>
                    </li>
                </ul>
            </div>
        </td>
    </tr>
<?php endforeach; ?>
</table>
