<h2>ZF2010-03: Potential XSS vector in Zend_Filter_StripTags when comments allowed</h2>

<h3>Executive Summary</h3>

<p>
    <code>Zend_Filter_StripTags</code> contained an optional setting to allow
    whitelisting HTML comments in filtered text. Microsoft Internet Explorer
    and several other browsers allow developers to create conditional
    functionality via HTML comments, including execution of script events
    and rendering of additional commented markup. By allowing whitelisting
    of HTML comments, a malicious user could potentially include XSS
    exploits within HTML comments that would then be rendered in the final
    output.
</p>

<h3>Action Taken</h3>

<p>
    The Zend Framework team has determined that since this
    vulnerability is so trivial to exploit, the functionality to allow
    whitelisting comments will now be disabled in this and all future
    releases. Additionally, the regular expression for stripping comments
    has been bolstered to properly remove comments containing HTML tags,
    nested comments, and comments ending with whitespace between the "--"
    and ending delimiter ("&gt;").
</p>

<h3>Recommendations</h3>

<p>
    If you use this filter and were enabling the "allowComments" 
    functionality, be advised that it is now silently ignored. We also 
    recommend such users to upgrade to the latest available Zend Framework 
    release, or one of the following releases, immediately.
</p>

<ul class="ul">
    <li>1.9.7</li>
    <li>1.8.5</li>
    <li>1.7.9</li>
</ul>

<h2>Other Information</h2>
<h3>Acknowledgments</h3>

<p>
    The Zend Framework team thanks the following for working with us to help 
    protect its users:
</p>

<ul class="ul">
    <li>PÃ¡draic Brady, who made the initial report and who worked with our 
    team to ensure that the appropriate actions were taken</li>
</ul>

<?php echo $this->render('security/policy'); ?>
