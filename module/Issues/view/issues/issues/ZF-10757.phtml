<h2>ZF-10757: Zend_Date outputs wrong year.</h2>

<dl class="metadata">
    <dt>Issue Type:</dt>
    <dd>Bug</dd>

    <dt>Created:</dt>
    <dd>2010-11-30T05:39:38.000+0000</dd>

    <dt>Last Updated:</dt>
    <dd>2010-12-05T07:18:50.000+0000</dd>

    <dt>Status:</dt>
    <dd>Resolved</dd>

    <dt>Fix version(s):</dt>
    <dd><ul></ul></dd>

    <dt>Reporter:</dt>
    <dd>
        None
                    </dd>

    <dt>Assignee:</dt>
    <dd>
                Thomas Weidner (thomas)
            </dd>

    <dt>Tags:</dt>
    <dd><ul>        <li>Zend_Date</li>
        </ul></dd>

    <dt>Related issues:</dt>
    <dd><ul>
    </ul></dd>

    <dt>Attachments:</dt>
    <dd><ul>
    </ul></dd>
</dl>

<div class="description">
    <h3>Description</h3>

    <div class="body">
        <p>The Output of the year in Zend_Date is wrong.</p>

<pre class="highlight"><code>
$date = new Zend_Date(array('day' =&gt; 31, 'month' =&gt; 12, 'year' =&gt; $year));
echo $year . ' - ' . $date-&gt;toString('yyyy-MM-dd');
</code></pre>

<p>I tested the Codesnippet for $years Values between 1920 and 2010. In the following table i listet the results / the outputs:</p>

<p>{quote}
1920 - 1920-12-31
1921 - 1921-12-31
1922 - 1922-12-31
1923 - 1924-12-31
1924 - 1925-12-31
1925 - 1925-12-31
1926 - 1926-12-31
1927 - 1927-12-31
1928 - 1929-12-31
1929 - 1930-12-31
1930 - 1931-12-31
1931 - 1931-12-31
1932 - 1932-12-31
1933 - 1933-12-31
1934 - 1935-12-31
1935 - 1936-12-31
1936 - 1936-12-31
1937 - 1937-12-31
1938 - 1938-12-31
1939 - 1939-12-31
1940 - 1941-12-31
1941 - 1942-12-31
1942 - 1942-12-31
1943 - 1943-12-31
1944 - 1944-12-31
1945 - 1946-12-31
1946 - 1947-12-31
1947 - 1948-12-31
1948 - 1948-12-31
1949 - 1949-12-31
1950 - 1950-12-31
1951 - 1952-12-31
1952 - 1953-12-31
1953 - 1953-12-31
1954 - 1954-12-31
1955 - 1955-12-31
1956 - 1957-12-31
1957 - 1958-12-31
1958 - 1959-12-31
1959 - 1959-12-31
1960 - 1960-12-31
1961 - 1961-12-31
1962 - 1963-12-31
1963 - 1964-12-31
1964 - 1964-12-31
1965 - 1965-12-31
1966 - 1966-12-31
1967 - 1967-12-31
1968 - 1969-12-31
1969 - 1970-12-31
1970 - 1970-12-31
1971 - 1971-12-31
1972 - 1972-12-31
1973 - 1974-12-31
1974 - 1975-12-31
1975 - 1976-12-31
1976 - 1976-12-31
1977 - 1977-12-31
1978 - 1978-12-31
1979 - 1980-12-31
1980 - 1981-12-31
1981 - 1981-12-31
1982 - 1982-12-31
1983 - 1983-12-31
1984 - 1985-12-31
1985 - 1986-12-31
1986 - 1987-12-31
1987 - 1987-12-31
1988 - 1988-12-31
1989 - 1989-12-31
1990 - 1991-12-31
1991 - 1992-12-31
1992 - 1992-12-31
1993 - 1993-12-31
1994 - 1994-12-31
1995 - 1995-12-31
1996 - 1997-12-31
1997 - 1998-12-31
1998 - 1998-12-31
1999 - 1999-12-31
2000 - 2000-12-31
2001 - 2002-12-31
2002 - 2003-12-31
2003 - 2004-12-31
2004 - 2004-12-31
2005 - 2005-12-31
2006 - 2006-12-31
2007 - 2008-12-31
2008 - 2009-12-31
2009 - 2009-12-31
2010 - 2010-12-31
{/quote}</p>

<p>The error can be seen on wrong dates in year 1923, 1924, 1928, 1929, 1934, 1935, 1940, 1941, 1945, 1946, 1951, 1952, 1956, ... 2007, 2008.</p>

<p>I suggest to consult the tickets [#ZF-5723] and [#ZF-5719]. The issue seems to be similar to the bugs reported in these tickets.</p>

    </div>
</div>

<div class="comments">
    <h3>Comments</h3>

    <div class="comment">
        <p class="metadata">Posted by Maximilian Capraro (cappex) on 2010-11-30T05:41:37.000+0000</p> 
        <div class="body">
            <p>I am sorry... the formatting :(</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Maximilian Capraro (cappex) on 2010-11-30T05:45:14.000+0000</p> 
        <div class="body">
            <p>And i am sorry for making your live more difficult, Thomas! I have no permission to set the ticket to "invalid" myself.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-12-04T23:13:10.000+0000</p> 
        <div class="body">
            <p>I can not verify this behaviour.
Are you sure that you did not use "YYYY" instead of "yyyy"?</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-12-04T23:14:11.000+0000</p> 
        <div class="body">
            <p>Please give me the used locale and timezone for reproduction.
Please use getIso() instead of toString() for debug output.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Maximilian Capraro (cappex) on 2010-12-05T02:53:42.000+0000</p> 
        <div class="body">
            <p>Yes. The using "YYYY" instead "yyyy" issue was the reason for my wish to close the ticket as invalid.</p>

        </div>
    </div>
        <div class="comment">
        <p class="metadata">Posted by Thomas Weidner (thomas) on 2010-12-05T07:18:46.000+0000</p> 
        <div class="body">
            <p>Closing issue as non issue according to the reporters request</p>

        </div>
    </div>
    </div>

